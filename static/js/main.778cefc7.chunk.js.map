{"version":3,"sources":["guard/auth.guard.js","compoents/Form/Input/index.jsx","config/index.js","store/auth/auth.constant.js","store/auth/auth.action.js","store/user/user.constant.js","store/common/common.constant.js","store/common/common.action.js","store/user/user.action.js","pages/LoginAndRegister/Login/index.jsx","compoents/Dialog/index.jsx","pages/LoginAndRegister/Register/index.jsx","pages/LoginAndRegister/index.jsx","util/index.js","assets/images/default-avatar.jpg","compoents/RightSideBar/index.jsx","assets/images/default-image.jpg","store/post/post.constant.js","service/base.api.js","service/paths.js","service/module/post.api.js","service/index.js","store/post/post.action.js","pages/SocialMedia/ListPost/Post/CommentList/Comment/index.jsx","pages/SocialMedia/ListPost/Post/CommentList/index.jsx","pages/SocialMedia/ListPost/Post/index.jsx","compoents/Alert/index.jsx","pages/SocialMedia/ListPost/AddEditPost/index.jsx","pages/SocialMedia/ListPost/index.jsx","pages/Profile/EditProfile/index.jsx","pages/SocialMedia/ListPost/Post/PostDialog/index.jsx","pages/Profile/index.jsx","pages/SocialMedia/index.jsx","assets/images/add-friend.svg","service/socket/SocketContext.js","store/notifications/notification.constant.js","store/notifications/notifications.action.js","compoents/Header/Notifications/index.jsx","compoents/Header/Friends/index.jsx","compoents/Header/index.jsx","pages/PostDetail/index.jsx","App.js","store/auth/auth.reducer.js","store/user/user.reducer.js","store/post/post.reducer.js","store/common/common.reducer.js","store/notifications/notifications.reducer.js","store/reducers/root.reducer.js","store/index.js","service/socket/SocketService.js","index.js"],"names":["AuthRoute","path","Component","render","routeProps","localStorage","getItem","to","FormInput","label","type","onChangeValue","validate","isInputValid","useState","valid","setValid","alert","setAlert","className","style","color","htmlFor","id","onChange","e","target","value","onBlur","trim","checkValid","visibility","HTTP_CONNECT","USER_AUTH","USER_REGISTER","loginAction","res","payload","registerAction","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_FAIL","GET_USER_PROFILE","GET_USER_CURRENT_PROFILE","FRIEND_REQUEST_SUCCESS","GET_FRIEND_REQUEST_SUCCESS","UNFRIEND_SUCCESS","GET_IMAGE_USE_SUCCESS","SET_NOTIFY","setNotify","code","config","headers","Authorization","getUserProfile","dispatch","a","axios","get","getUserProfileAction","response","getUserCurrentProfile","getUserCurrentProfileAction","data","updateProfileAction","unfriendSuccess","console","log","friendRequestAction","getFriendsRequestSuccess","getImageUserSuccess","Login","useDispatch","history","useHistory","username","setUsername","password","setPassword","notifyForm","setNotifyForm","loginReducer","useSelector","state","authReducer","auth","useEffect","status","setItem","accessToken","decodeJWT","jwt_decode","userId","push","window","location","reload","message","onSubmit","event","preventDefault","post","login","display","textAlign","fontWeight","Dialog","title","isShow","handleHideDialog","content","btnSubmitName","btnSubmit","btnClose","useFooter","width","undefined","visible","closable","centered","footer","danger","onClick","htmlType","onCancel","Register","isShowDialog","setisShowDialog","Form","useForm","formRegister","avatar","setAvatar","email","setEmail","messageErr","setMessageErr","loading","uploadButton","LoadingOutlined","PlusOutlined","marginTop","registerReducer","register","NotificationManager","success","resetFields","handleSubmit","registerInfo","form","name","labelCol","span","wrapperCol","labelAlign","onFinish","Item","listType","showUploadList","beforeUpload","file","isJpgOrPng","isLt2M","size","info","originFileObj","height","backgroundSize","backgroundPosition","backgroundImage","URL","createObjectURL","rules","required","hasFeedback","Password","getFieldValue","validator","_","Promise","reject","Error","resolve","LoginAndRegister","backgroundColor","getUrlImage","imgId","getUrlVideo","videoId","useOutsideAlerter","ref","handleClickOutside","current","contains","document","addEventListener","removeEventListener","formatMinutes","dateString","date","Date","nowDate","deltaTime","parseInt","getTime","minutes","hours","days","months","RightSideBar","user","profileReducer","userReducer","profileCurentUser","friends","map","friend","index","_id","src","defaultAvatar","alt","fullName","GET_POST_LIST","CREATE_POST_SUCCESS","CREATE_POST_FAIL","EDIT_POST_SUCCESS","EDIT_POST_FAIL","DELETE_POST_SUCCESS","DELETE_POST_FAIL","LIKE_POST_SUCCESS","GET_COMMENT_SUCCESS","POST_COMMENT_SUCCESS","EDIT_COMMENT_SUCCESS","DELETE_COMMENT_SUCCESS","LIKE_COMMENT_SUCCESS","FIXED_DOMAIN","process","REACT_APP_FIXED_DOMAIN","BaseApi","opts","Object","assign","this","baseURL","client","create","timeout","interceptors","use","hostname","split","length","pathname","error","defaults","clearStore","key","requestOpts","preRequest","then","preResponse","catch","uri","params","buildOptions","request","method","url","rawResponse","processError","besideData","clearSession","isNil","getInstance","paths","limitPost","profile","postId","getPostList","baseApi","createPost","deletePost","apis","getPostListAction","createPostAction","editPostAction","likePostSuccess","detelePostAction","postCommentSuccess","likeCommentSuccess","Comment","comment","isLike","setLike","currentComment","setCurrentComment","like","find","handleLikeComment","commentId","getState","req","likeComment","newComment","createAt","now","filter","DefaultAvatar","filePath","CommentList","isFocusInput","comments","inputRef","useRef","isShowUpload","setIsShowUpload","errMessage","attachment","setAttachment","loadingAttach","setComment","focus","autosize","onPreview","reader","FileReader","readAsDataURL","onload","result","image","Image","open","write","outerHTML","placeholder","onKeyDown","keyCode","shiftKey","item","fileType","fileName","fileSize","class","fileList","action","newFileList","moment","locale","Post","onEdit","onDelete","isShowCommentList","setIsShowCommentList","setIsFocusInput","profileCurentReducer","handleLike","menu","icon","ExclamationCircleOutlined","FormOutlined","CloseCircleOutlined","poster","audience","overlay","placement","trigger","EllipsisOutlined","text","attachments","dotPosition","controls","borderBottom","some","LikeFilled","LikeOutlined","CommentOutlined","ShareAltOutlined","Alert","onSuccess","notifyReducer","commonReducer","notify","useMemo","TextArea","Input","Option","Select","AddEditPost","React","forwardRef","formCreateEditPost","setAudience","setText","setAttachments","selectedPost","setSelectedPost","useImperativeHandle","setInitState","setValuesForm","editAttach","setFieldsValue","Text","typeForm","newAttachments","postParent","put","editPost","DefualtAvatar","paddingRight","defaultValue","autoSize","minRows","ListPost","postList","setIsShowDialog","titleDialog","setTitleDialog","btnSubmitDialog","setBtnSubmitDialog","profileOtherReducer","postReducer","titleAlert","setTitleAlert","refAddEditPost","setTypeForm","handleCreate","handleEdit","uid","handleDelete","delete","EditProfile","formEditProfile","setFullName","coverPicture","setCoverPicture","dateOfBirth","setDateOfBirth","setMessage","newProfile","layout","format","PostDialog","isShowPost","setShowPost","setPost","getData","Profile","props","useParams","isFriendRequest","setFriendRequest","isFriend","setFriend","currentImage","setCurrentImage","match","profileUserReducer","imagesUser","friendsRequest","isAFriend","postListReducer","handleFriendRequest","Unfriend","DefaultImage","followers","followings","objectFit","SocialMedia","SocketContext","createContext","GET_NOTI_SUCCESS","getNotifications","getNotificationsSuccess","Notifications","noti","wrapperRef","notifications","notificationReducer","countNoti","setCountNoti","socket","useContext","total","on","msg","fromUser","_defaultAvatar","fontSize","startOf","fromNow","Friends","handleFriendRequestRespone","Search","Header","emit","wrapperRefAva","onSearch","PostDetail","App","initialState","rootReducer","combineReducers","newFriendsRequest","listNewPosts","newListPost","fullname","newListPost5","newListPost2","newListPost3","newListPost4","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","SocketService","io","Provider","Children","only","children","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.778cefc7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst AuthRoute = ({ path, Component }) => {\r\n  return (\r\n    <Route\r\n      path={path}\r\n      render={(routeProps) => {\r\n        if (localStorage.getItem(\"token\")) {\r\n          return <Component {...routeProps} />;\r\n        }\r\n        return <Redirect to=\"/login\" />;\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default AuthRoute;\r\n","import { useState } from \"react\";\r\nimport \"./style.scss\";\r\nconst FormInput = ({\r\n  label,\r\n  type,\r\n  onChangeValue,\r\n  validate = \"none\",\r\n  isInputValid,\r\n}) => {\r\n  const [valid, setValid] = useState(true);\r\n  const [alert, setAlert] = useState(\"\");\r\n\r\n  const checkValid = (value) => {\r\n    setAlert(\"\");\r\n    setValid(true);\r\n\r\n    switch (validate) {\r\n      case \"username\": {\r\n        if (value.trim() === \"\") {\r\n          setAlert(\"Hãy nhập tài khoản\");\r\n          setValid(false);\r\n          return isInputValid(false);\r\n        }\r\n        return isInputValid(true);\r\n      }\r\n      case \"email\": {\r\n        if (value.trim() === \"\") {\r\n          setAlert(\"Hãy nhập email\");\r\n          setValid(false);\r\n          return isInputValid(false);\r\n        }\r\n        return isInputValid(true);\r\n      }\r\n      case \"password\": {\r\n        if (value.trim() === \"\") {\r\n          setAlert(\"Hãy nhập mật khẩu\");\r\n          setValid(false);\r\n          return isInputValid(false);\r\n        }\r\n        return isInputValid(true);\r\n      }\r\n\r\n      default: {\r\n        setAlert(\"\");\r\n        setValid(true);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-group pb-2\">\r\n      <label style={{ color: valid ? \"\" : \"red\" }} htmlFor={type}>\r\n        {label}:\r\n      </label>\r\n      <input\r\n        type={type}\r\n        className={valid ? \"form-control\" : \"form-control invalid\"}\r\n        id={type}\r\n        onChange={(e) => onChangeValue(e.target.value)}\r\n        onBlur={(e) => checkValid(e.target.value)}\r\n      />\r\n      <span\r\n        className=\"invalid-message\"\r\n        style={{ visibility: valid ? \"invisible\" : \"visible\" }}\r\n      >\r\n        {alert}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","export const HTTP_CONNECT = \"https://social-media-lth-phl.herokuapp.com/api\";\r\n","export const USER_AUTH = \"USER_AUTH\";\r\n\r\nexport const USER_REGISTER = \"USER_REGISTER\";\r\n","import axios from \"axios\";\r\nimport { HTTP_CONNECT } from \"../../config\";\r\nimport { USER_AUTH, USER_REGISTER } from \"./auth.constant\";\r\n\r\n//LOGIN\r\nexport const login = (username, password) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(`${HTTP_CONNECT}/auth/login`, {\r\n        username,\r\n        password,\r\n      });\r\n\r\n      await dispatch(loginAction(res));\r\n    } catch (err) {\r\n      dispatch(loginAction(err.response));\r\n    }\r\n  };\r\n};\r\n\r\nconst loginAction = (res) => {\r\n  return { type: USER_AUTH, payload: res };\r\n};\r\n\r\n// REGISTER\r\nexport const register = (registerInfo) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(`${HTTP_CONNECT}/auth/register`, {\r\n        username: registerInfo.username,\r\n        password: registerInfo.password,\r\n        email: registerInfo.email,\r\n      });\r\n\r\n      await dispatch(registerAction(res));\r\n    } catch (err) {\r\n      dispatch(registerAction(err.response));\r\n    }\r\n  };\r\n};\r\n\r\nconst registerAction = (res) => {\r\n  return { type: USER_REGISTER, payload: res };\r\n};\r\n","export const GET_USERS = \"GET_USERS\";\r\n\r\nexport const CREATE_USER = \"CREATE_USER\";\r\n\r\nexport const UPDATE_PROFILE_SUCCESS = \"UPDATE_PROFILE_SUCCESS\";\r\nexport const UPDATE_PROFILE_FAIL = \"UPDATE_PROFILE_FAIL\";\r\n\r\nexport const GET_USER_PROFILE = \"GET_USER_PROFILE\";\r\nexport const GET_USER_CURRENT_PROFILE = \"GET_USER_CURRENT_PROFILE\";\r\nexport const FRIEND_REQUEST_RESPONE_SUCCESS = \"FRIEND_REQUEST_RESPONE_SUCCESS\";\r\nexport const FRIEND_REQUEST_SUCCESS = \"FRIEND_REQUEST_SUCCESS\";\r\nexport const GET_FRIEND_REQUEST_SUCCESS = \"GET_FRIEND_REQUEST_SUCCESS\";\r\nexport const UNFRIEND_SUCCESS = \"UNFRIEND_SUCCESS\";\r\nexport const GET_IMAGE_USE_SUCCESS = \"GET_IMAGE_USE_SUCCESS\";","export const SET_NOTIFY = \"SET_NOTIFY\";\r\n\r\nexport const CLEAR_NOTIFY = \"CLEAR_NOTIFY\";\r\n","import { SET_NOTIFY } from \"store/common/common.constant\";\r\n\r\nexport const setNotify = (code) => {\r\n  return { type: SET_NOTIFY, payload: code };\r\n};\r\n","import axios from \"axios\";\r\nimport { HTTP_CONNECT } from \"config\";\r\nimport {\r\n  GET_USER_PROFILE,\r\n  UPDATE_PROFILE_FAIL,\r\n  GET_USER_CURRENT_PROFILE,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  FRIEND_REQUEST_SUCCESS,\r\n  FRIEND_REQUEST_RESPONE_SUCCESS,\r\n  GET_FRIEND_REQUEST_SUCCESS,\r\n  UNFRIEND_SUCCESS,\r\n  GET_IMAGE_USE_SUCCESS\r\n} from \"store/user/user.constant\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setNotify } from \"../common/common.action\";\r\n\r\nconst config = {\r\n  headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n};\r\n\r\nexport const getUserProfile = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${HTTP_CONNECT}/users/${id}`,\r\n\r\n        config\r\n      );\r\n      await dispatch(getUserProfileAction(res));\r\n    } catch (err) {\r\n      dispatch(getUserProfileAction(err.response));\r\n    }\r\n  };\r\n};\r\nexport const getUserCurrentProfile = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${HTTP_CONNECT}/users/profile`,\r\n\r\n        config\r\n      );\r\n      await dispatch(getUserCurrentProfileAction(res.data));\r\n    } catch (err) {\r\n      dispatch(getUserCurrentProfileAction(err.response));\r\n    }\r\n  };\r\n};\r\nconst getUserProfileAction = (data) => {\r\n  return { type: GET_USER_PROFILE, payload: data };\r\n};\r\nconst getUserCurrentProfileAction = (data) => {\r\n  return { type: GET_USER_CURRENT_PROFILE, payload: data };\r\n};\r\n// UPDATE USER\r\nexport const updateProfile = (newProfile) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.put(`${HTTP_CONNECT}/users/`, newProfile, config);\r\n      await dispatch(updateProfileAction(res));\r\n      await dispatch(setNotify(res.status));\r\n    } catch (err) {\r\n      dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\nconst updateProfileAction = (data) => {\r\n  return {\r\n    type: UPDATE_PROFILE_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const friendRequest = (data) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const profile = getState().userReducer.profileCurentUser;\r\n      const res = await axios.post(\r\n        `${HTTP_CONNECT}/users/friendRequest`,\r\n        data,\r\n        config\r\n      );\r\n      await dispatch(\r\n        friendRequestAction({\r\n          ...data,\r\n          user: { _id: profile._id },\r\n          createAt: Date.now(),\r\n        })\r\n      );\r\n    } catch (err) {\r\n      dispatch(setNotify(err.response));\r\n    }\r\n  };\r\n};\r\nexport const friendRequestRespone = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(\r\n        `${HTTP_CONNECT}/users/friendRespone`,\r\n        data,\r\n        config\r\n      );\r\n      if (res.status == 200) {\r\n        await dispatch(getUserCurrentProfile());\r\n      }\r\n    } catch (err) {\r\n      dispatch(setNotify(err.response));\r\n    }\r\n  };\r\n};\r\nexport const unfriend = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(\r\n        `${HTTP_CONNECT}/users/unfriend`,\r\n        data,\r\n        config\r\n      );\r\n      if (res.status == 200) {\r\n        await dispatch(unfriendSuccess(data));\r\n      }\r\n    } catch (err) {\r\n      dispatch(setNotify(err.response));\r\n    }\r\n  };\r\n};\r\nconst unfriendSuccess = (data) => {\r\n  console.log(data);\r\n  return {\r\n    type: UNFRIEND_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\nconst friendRequestAction = (data) => {\r\n  console.log(data);\r\n  return {\r\n    type: FRIEND_REQUEST_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\nexport const getFriendsRequest = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${HTTP_CONNECT}/users/getFriendRequest`,\r\n        config\r\n      );\r\n      console.log(res, \"res\");\r\n      await dispatch(getFriendsRequestSuccess(res.data));\r\n    } catch (err) {\r\n      dispatch(setNotify(err.response));\r\n    }\r\n  };\r\n};\r\nconst getFriendsRequestSuccess = (data) => {\r\n  return {\r\n    type: GET_FRIEND_REQUEST_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\nconst friendRequestResponeAction = (data) => {\r\n  return {\r\n    type: FRIEND_REQUEST_RESPONE_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\nexport const getImageUser = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${HTTP_CONNECT}/upload/getAllMediaByUserId?userId=${data}`,\r\n        config\r\n      );\r\n      console.log(res, \"res\");\r\n      await dispatch(getImageUserSuccess(res.data));\r\n    } catch (err) {\r\n      dispatch(setNotify(err.response));\r\n    }\r\n  };\r\n};\r\nconst getImageUserSuccess = (data)=>{\r\n  return{\r\n    type:GET_IMAGE_USE_SUCCESS,\r\n    payload:data\r\n  }\r\n}","import FormInput from \"compoents/Form/Input\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login } from \"store/auth/auth.action\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { getUserProfile } from \"store/user/user.action\";\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  let history = useHistory();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [notifyForm, setNotifyForm] = useState(\"\");\r\n  const loginReducer = useSelector((state) => state.authReducer.auth);\r\n\r\n  useEffect(() => {\r\n    setNotifyForm(\"\");\r\n    if (loginReducer?.status === 200) {\r\n      localStorage.setItem(\"token\", loginReducer?.data?.accessToken);\r\n\r\n      const decodeJWT = jwt_decode(loginReducer?.data?.accessToken);\r\n\r\n      localStorage.setItem(\"userId\", decodeJWT?.userId);\r\n\r\n      dispatch(getUserProfile(decodeJWT?.userId));\r\n\r\n      history.push(\"/\");\r\n\r\n      window.location.reload();\r\n    } else if (loginReducer?.status === 400) {\r\n      setNotifyForm(loginReducer?.data?.message);\r\n    }\r\n  }, [loginReducer]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    dispatch(login(username, password));\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <FormInput\r\n        label={\"Tài khoản\"}\r\n        type={\"text\"}\r\n        onChangeValue={(value) => {\r\n          setUsername(value);\r\n        }}\r\n      />\r\n      <FormInput\r\n        label={\"Mật khẩu\"}\r\n        type={\"password\"}\r\n        onChangeValue={(value) => {\r\n          setPassword(value);\r\n        }}\r\n      />\r\n      <p\r\n        style={{\r\n          display: notifyForm !== \"\" ? \"block\" : \"none\",\r\n          color: \"red\",\r\n          textAlign: \"center\",\r\n          fontWeight: \"500\",\r\n        }}\r\n      >\r\n        {notifyForm}\r\n      </p>\r\n      <div style={{ textAlign: \"right\" }}>\r\n        <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n          Đăng nhập\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { Modal, Button } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Dialog = ({\r\n  type = \"form\",\r\n  title = \"\",\r\n  isShow,\r\n  handleHideDialog,\r\n  content = \"\",\r\n  btnSubmitName = \"Xác nhận\",\r\n  onSubmit,\r\n  btnSubmit = true,\r\n  btnClose = true,\r\n  useFooter=true,\r\n  width=undefined\r\n}) => {\r\n  const customFooter = () => {\r\n    return (\r\n      <div>\r\n        {btnClose ?? (\r\n          <Button\r\n            danger\r\n            onClick={() => {\r\n              handleHideDialog();\r\n            }}\r\n          >\r\n            Đóng\r\n          </Button>\r\n        )}\r\n\r\n        {btnSubmit ?? (\r\n          <Button type=\"primary\" onClick={onSubmit} htmlType=\"submit\">\r\n            {btnSubmitName}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={isShow}\r\n      title={title}\r\n      closable={false}\r\n      centered={true}\r\n      width={width}\r\n      footer={(type === \"file\"||useFooter==false) ? null : customFooter()}\r\n      onCancel={() => {\r\n        handleHideDialog();\r\n      }}\r\n    >\r\n      {content}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Dialog;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialog from \"compoents/Dialog\";\r\nimport { Tabs, Form, Input, Button, Upload } from \"antd\";\r\nimport FormInput from \"compoents/Form/Input\";\r\nimport { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  NotificationContainer,\r\n  NotificationManager,\r\n} from \"react-notifications\";\r\nimport { register } from \"store/auth/auth.action\";\r\n\r\nconst Register = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [isShowDialog, setisShowDialog] = useState(false);\r\n\r\n  const [formRegister] = Form.useForm();\r\n\r\n  const [avatar, setAvatar] = useState(null);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const [messageErr, setMessageErr] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [notifyForm, setNotifyForm] = useState(\"\");\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  );\r\n  const registerReducer = useSelector((state) => state.authReducer.register);\r\n  useEffect(() => {\r\n    setNotifyForm(\"\");\r\n    if (registerReducer?.status === 200) {\r\n      NotificationManager.success(\"Thành công\", \"Tạo tài khoản\");\r\n      formRegister.resetFields();\r\n      setAvatar(null);\r\n      setisShowDialog(false);\r\n    } else if (registerReducer?.status === 400) {\r\n      setNotifyForm(registerReducer?.data?.message);\r\n    }\r\n  }, [registerReducer]);\r\n\r\n  const handleSubmit = () => {\r\n    // if (!avatar === \"register\") {\r\n    //   setMessageErr(\"Vui lòng chọn ảnh đại diện !\");\r\n    //   return;\r\n    // }\r\n\r\n    dispatch(register({ username, password, email }));\r\n  };\r\n\r\n  const handleChange = (info) => {\r\n    setAvatar(info.file.originFileObj);\r\n    // setAvatarRgt(null);\r\n    // if (info.file.status === \"uploading\") {\r\n    //   setLoading(true);\r\n    //   return;\r\n    // }\r\n    // if (info.file.status === \"done\") {\r\n    //   // Get this url from response in real world.\r\n    //   getBase64(info.file.originFileObj, (avatarRgt) => {\r\n    //     setAvatarRgt(avatarRgt);\r\n    //     setLoading(false);\r\n    //   });\r\n    // }\r\n    // if (info.file.status === \"error\") {\r\n    //   setLoading(false);\r\n    //   setMessageErr(\"Upload Image Fail !\");\r\n    // }\r\n  };\r\n\r\n  const beforeUpload = (file) => {\r\n    const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n    setMessageErr(\"\");\r\n    if (!isJpgOrPng) {\r\n      setMessageErr(\"Ảnh phải thuộc loại JPG/PNG file!\");\r\n      // message.error(\"You can only upload JPG/PNG file!\");\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n      setMessageErr(\"Ảnh phải nhỏ hơn 2MB!\");\r\n      // message.error(\"Image must smaller than 2MB!\");\r\n    }\r\n    return isJpgOrPng && isLt2M;\r\n  };\r\n  return (\r\n    <div>\r\n      <NotificationContainer />\r\n      <button\r\n        className=\"btn btn-success w-100\"\r\n        onClick={() => {\r\n          setisShowDialog(true);\r\n        }}\r\n      >\r\n        Tạo tài khoản mới\r\n      </button>\r\n      <Dialog\r\n        title={\"Đăng ký\"}\r\n        isShow={isShowDialog}\r\n        handleHideDialog={() => {\r\n          setisShowDialog(false);\r\n        }}\r\n        form={formRegister}\r\n        btnSubmitName={\"Đăng ký\"}\r\n        onSubmit={handleSubmit}\r\n        content={\r\n          <Form\r\n            name=\"register\"\r\n            form={formRegister}\r\n            labelCol={{ span: 9 }}\r\n            wrapperCol={{ span: 15 }}\r\n            labelAlign={\"left\"}\r\n            onFinish={handleSubmit}\r\n          >\r\n            <Form.Item label=\"Ảnh đại diện\" name=\"avatar\">\r\n              <Upload\r\n                name=\"avatar\"\r\n                listType=\"picture-card\"\r\n                className=\"avatar-uploader\"\r\n                showUploadList={false}\r\n                beforeUpload={beforeUpload}\r\n                onChange={handleChange}\r\n              >\r\n                {avatar ? (\r\n                  // <img\r\n                  //   src={URL.createObjectURL(avatar)}\r\n                  //   alt=\"avatar\"\r\n                  //   style={{ width: \"100%\" }}\r\n                  // />\r\n                  <div\r\n                    style={{\r\n                      width: \"100%\",\r\n                      height: \"100%\",\r\n                      backgroundSize: \"cover\",\r\n                      backgroundPosition: \"center\",\r\n                      backgroundImage: `url(${URL.createObjectURL(avatar)})`,\r\n                    }}\r\n                  ></div>\r\n                ) : (\r\n                  uploadButton\r\n                )}\r\n              </Upload>\r\n              <span className=\"error\">{messageErr}</span>\r\n            </Form.Item>\r\n            <Form.Item\r\n              label=\"Tài khoản\"\r\n              name=\"username\"\r\n              rules={[{ required: true, message: \"Vui lòng nhập tài khoản\" }]}\r\n            >\r\n              <Input onChange={(e) => setUsername(e.target.value)} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              rules={[{ required: true, message: \"Vui lòng nhập email\" }]}\r\n            >\r\n              <Input onChange={(e) => setEmail(e.target.value)} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label=\"Mật khẩu\"\r\n              name=\"password\"\r\n              rules={[{ required: true, message: \"Vui lòng nhập mật khẩu\" }]}\r\n              hasFeedback\r\n            >\r\n              <Input.Password onChange={(e) => setPassword(e.target.value)} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label=\"Nhập lại mật khẩu\"\r\n              name=\"confirmpassword\"\r\n              hasFeedback\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Vui lòng xác nhận lại mật khẩu\",\r\n                },\r\n                ({ getFieldValue }) => ({\r\n                  validator(_, value) {\r\n                    if (!value || getFieldValue(\"password\") === value) {\r\n                      return Promise.resolve();\r\n                    }\r\n                    return Promise.reject(new Error(\"Mật khẩu không khớp\"));\r\n                  },\r\n                }),\r\n              ]}\r\n            >\r\n              <Input.Password />\r\n            </Form.Item>\r\n\r\n            {/* <Form.Item label=\"First name\" name=\"fname\">\r\n              <Input onChange={(e) => setFname(e.target.value)} />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Last name\" name=\"lname\">\r\n              <Input onChange={(e) => setLname(e.target.value)} />\r\n            </Form.Item> */}\r\n\r\n            {/* <Form.Item wrapperCol={{ offset: 20, span: 20 }}>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Đăng ký\r\n              </Button>\r\n            </Form.Item> */}\r\n\r\n            <p\r\n              style={{\r\n                display: notifyForm !== \"\" ? \"block\" : \"none\",\r\n                color: \"red\",\r\n                textAlign: \"center\",\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              Thông báo: {notifyForm}\r\n            </p>\r\n          </Form>\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Register;\r\n\r\n{\r\n  /* <form>\r\n            <FormInput\r\n              type={\"text\"}\r\n              label={\"Tài khoản\"}\r\n              validate={\"username\"}\r\n              onChangeValue={(value) => {\r\n                setUsername(value);\r\n                setValidForm(true);\r\n              }}\r\n              isInputValid={(res) => {\r\n                setValidForm(validForm && res);\r\n              }}\r\n            />\r\n            <FormInput\r\n              type={\"email\"}\r\n              label={\"Email\"}\r\n              validate={\"email\"}\r\n              onChangeValue={(value) => {\r\n                setEmail(value);\r\n                setValidForm(true);\r\n              }}\r\n              isInputValid={(res) => {\r\n                setValidForm(validForm && res);\r\n              }}\r\n            />\r\n            <FormInput\r\n              type={\"password\"}\r\n              label={\"Mật khẩu\"}\r\n              validate={\"password\"}\r\n              onChangeValue={(value) => {\r\n                setPassword(value);\r\n                setValidForm(true);\r\n              }}\r\n              isInputValid={(res) => {\r\n                setValidForm(validForm && res);\r\n              }}\r\n            />\r\n          </form> */\r\n}\r\n","import Login from \"./Login\";\r\nimport \"./style.scss\";\r\nimport Register from \"./Register\";\r\nconst LoginAndRegister = () => {\r\n  return (\r\n    <div style={{ backgroundColor: \"#f0f2f5\", width: \"100%\", height: \"100vh\" }}>\r\n      <div className=\"wrapper\">\r\n        <div className=\"d-flex justify-content-center align-items-center w-100\">\r\n          <div className=\"background-image\"></div>\r\n          <div className=\"wrapper__form\">\r\n            <Login />\r\n            <p className=\"forgotPass\">Quên mật khẩu?</p>\r\n            <hr />\r\n            <Register />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default LoginAndRegister;\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { message } from \"antd\";\r\nexport const getUrlImage = (imgId) => {\r\n  return \"https://res.cloudinary.com/lth/image/upload/v1632551713/\" + imgId;\r\n};\r\n\r\nexport const getUrlVideo = (videoId) => {\r\n  return \"https://res.cloudinary.com/lth/video/upload/v1632552167/\" + videoId;\r\n};\r\n\r\nexport const getUrlRaw = (fileId) => {\r\n  return \"https://res.cloudinary.com/lth/raw/upload/v1632552198/\" + fileId;\r\n};\r\nexport const friendRelate = (a, b) => {\r\n  return symmetricDifference(a, b);\r\n};\r\n\r\nexport const getConfig = () => {\r\n  return {\r\n    headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n  };\r\n};\r\nfunction difference(a1, a2) {\r\n  let a2Set = new Set(a2);\r\n  return a1.filter(function (x) {\r\n    return a2Set.has(x);\r\n  });\r\n}\r\n\r\nfunction symmetricDifference(a1, a2) {\r\n  return difference(a1, a2);\r\n}\r\n\r\nexport const useOutsideAlerter = (ref) => {\r\n  useEffect(() => {\r\n    /**\r\n     * Alert if clicked on outside of element\r\n     */\r\n    function handleClickOutside(event) {\r\n      if (\r\n        ref.current &&\r\n        !ref.current.contains(event.target) &&\r\n        event.target.className !== \"fa fa-heart\"\r\n      ) {\r\n        ref.current.style.display = \"none\";\r\n      }\r\n    }\r\n\r\n    // Bind the event listener\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n};\r\nexport const usePrevious = (value) => {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n};\r\nexport function beforeUpload(file) {\r\n  const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n  if (!isJpgOrPng) {\r\n    message.error(\"You can only upload JPG/PNG file!\");\r\n  }\r\n  const isLt5M = file.size < 1024 * 1024 * 5;\r\n  if (!isLt5M) {\r\n    message.error(\"Image must smaller than 5MB!\");\r\n  }\r\n  return isJpgOrPng && isLt5M;\r\n}\r\nexport const formatMinutes = (dateString) => {\r\n  var date = new Date(dateString);\r\n  var nowDate = new Date();\r\n  var deltaTime = parseInt((nowDate.getTime() - date.getTime()) / 1000);\r\n  var minutes = parseInt(deltaTime / 60);\r\n  if (minutes < 60) {\r\n    return minutes + \" phút trước\";\r\n  } else {\r\n    var hours = parseInt(minutes / 60);\r\n    if (hours < 24) {\r\n      return hours + \" giờ trước\";\r\n    } else {\r\n      var days = parseInt(hours / 24);\r\n      if (days < 30) {\r\n        return days + \" ngày trước\";\r\n      } else {\r\n        var months = parseInt(days / 30);\r\n        if (months < 12) {\r\n          return months + \" tháng trước\";\r\n        } else {\r\n          return parseInt(months / 12) + \" năm trước\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjZmOTgyYThhLTA2YzUtNDJkMC05YmU3LWI1NDQ3ZjRmNzhlNTwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmJkYjhmNDM5LTIzNTctNDYwMi1iYTY0LWFjOWQzMTA5MmIxNjwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/8AACwgBaAFoAQERAP/EABwAAQACAwEBAQAAAAAAAAAAAAAGBwIEBQMBCP/EAEAQAAICAQICBQgIAwcFAAAAAAABAgMEBREGIRIiMUFRBxNhcZGhwdEUMkJSU3KBsRUkMxYjNDViwvBDdJKTsv/aAAgBAQAAPwD9lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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\"","import \"./style.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getUrlImage } from \"util/index\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport defaultAvatar from \"assets/images/default-avatar.jpg\";\r\nconst RightSideBar = ({ user }) => {\r\n  const array = [1, 2, 3, 4, 5];\r\n  const profileReducer = useSelector(\r\n   \r\n    (state) => state.userReducer.profileCurentUser\r\n  );\r\n  return (\r\n    <div className=\"rightSidebar\">\r\n      <div className=\"rightSidebar__position\">\r\n        {/* Gợi ý kết bạn  */}\r\n        {/* <div className=\"card\">\r\n          <p className=\"rightSidebar__title\">Gợi ý bạn bè</p>\r\n          <div className=\"rightSidebar__content\">\r\n            {array.map((item, index) => {\r\n              return (\r\n                <div\r\n                  className=\"d-flex align-items-center pb-3\"\r\n                  key={`suggetion--${index}`}\r\n                >\r\n                  <img\r\n                    src={user?.avatar}\r\n                    alt=\"\"\r\n                    className={user?.avatar ? \"avatar\" : \"avatar skeleton\"}\r\n                  />\r\n                  <p className={user?.name ? \"\" : \"skeleton skeleton-username\"}>\r\n                    {user?.username}\r\n                  </p>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div> */}\r\n        {/* Danh sách bạn bè */}\r\n        <div className=\"card\">\r\n          <p className=\"rightSidebar__cardTitle\">Danh sách bạn bè</p>\r\n          <div className=\"rightSidebar__cardContent\">\r\n            {profileReducer.friends?.map((friend, index) => {\r\n              return (\r\n                <Link\r\n                to={`/profile/${friend.user._id}`}\r\n               \r\n              >\r\n                <div\r\n                  className=\"d-flex align-items-center pb-3\"\r\n                  key={`friend-${friend.user._id}`}\r\n                >\r\n                  <img\r\n                    src={friend?.user.avatar!=\"\"?getUrlImage(friend?.user.avatar):defaultAvatar}\r\n                    alt=\"\"\r\n                    className={friend?.user.avatar ? \"avatar\" : \"avatar skeleton\"}\r\n                  />\r\n                  <p className={friend.user?.fullName ? \"\" : \"skeleton skeleton-username\"}>\r\n                    {friend.user?.fullName}\r\n                  </p>\r\n                </div>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default RightSideBar;\r\n","export default \"data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/9k=\"","export const GET_POST_LIST = \"GET_POST_LIST\";\r\n\r\nexport const CREATE_POST_SUCCESS = \"CREATE_POST_SUCCESS\";\r\nexport const CREATE_POST_FAIL = \"CREATE_POST_FAIL\";\r\n\r\nexport const EDIT_POST_SUCCESS = \"EDIT_POST_SUCCESS\";\r\nexport const EDIT_POST_FAIL = \"EDIT_POST_FAIL\";\r\n\r\nexport const DELETE_POST_SUCCESS = \"DELETE_POST_SUCCESS\";\r\nexport const DELETE_POST_FAIL = \"DELETE_POST_FAIL\";\r\n\r\nexport const LIKE_POST = \"LIKE_POST\";\r\nexport const LIKE_POST_SUCCESS = \"LIKE_POST_SUCCESS\";\r\nexport const GET_COMMENT_SUCCESS = \"GET_COMMENT_SUCCESS\";\r\nexport const POST_COMMENT_SUCCESS = \"POST_COMMENT_SUCCESS\";\r\nexport const EDIT_COMMENT_SUCCESS = \"EDIT_COMMENT_SUCCESS\";\r\nexport const DELETE_COMMENT_SUCCESS = \"DELETE_COMMENT_SUCCESS\";\r\nexport const LIKE_COMMENT_SUCCESS = \"LIKE_COMMENT_SUCCESS\";\r\n\r\n","import axios from \"axios\";\r\nimport get from \"lodash/get\";\r\nimport isNil from \"lodash/isNil\";\r\nimport { HTTP_CONNECT } from \"config\";\r\n\r\nconst FIXED_DOMAIN = process.env.REACT_APP_FIXED_DOMAIN;\r\n\r\n// const UPLOAD_HEADER = {\r\n//   accept: \"application/json\",\r\n//   \"Accept-Language\": \"en-US,en;q=0.8\",\r\n//   \"Content-Type\": \"application/binary\",\r\n// };\r\n\r\nclass BaseApi {\r\n  constructor(opts = {}) {\r\n    Object.assign(this, opts);\r\n\r\n    const baseURL = 'https://social-media-lth-phl.herokuapp.com/api';\r\n\r\n    this.client = axios.create({\r\n      timeout: 120000,\r\n    });\r\n\r\n    this.client.interceptors.response.use(\r\n      (response) => {\r\n        const { code } = response.data;\r\n        if (code === 401) {\r\n          if (window.location.hostname.split(\".\").length === 2) {\r\n            window.location.pathname = \"/\";\r\n          } else {\r\n            window.location = `https://${FIXED_DOMAIN}`;\r\n          }\r\n        }\r\n        return response;\r\n      },\r\n      (error) => {\r\n        if (error?.response?.status === 401) {\r\n          if (window.location.hostname.split(\".\").length === 2) {\r\n            window.location.pathname = \"/\";\r\n          } else {\r\n            window.location = `https://${FIXED_DOMAIN}`;\r\n          }\r\n        }\r\n        // console.log(\"Error status\", error?.response?.status);\r\n      }\r\n    );\r\n\r\n    if (baseURL) {\r\n      this.client.defaults.baseURL = baseURL;\r\n    }\r\n  }\r\n\r\n  static getInstance() {\r\n    return new BaseApi();\r\n  }\r\n\r\n  static buildOptions(method, url, params = {}, headers = { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }) {\r\n    return {\r\n      method,\r\n      url,\r\n      params,\r\n      headers,\r\n    };\r\n  }\r\n\r\n  setBaseURL(baseURL) {\r\n    this.client.defaults.baseURL = baseURL;\r\n  }\r\n\r\n  setClearCallback(clearStore) {\r\n    this.clearStore = clearStore;\r\n  }\r\n\r\n  clearSession() {\r\n    if (this.clearStore) {\r\n      this.clearStore();\r\n    }\r\n  }\r\n\r\n  setDefaultHeader(key, value) {\r\n    this.client.defaults.headers[key] = value;\r\n  }\r\n\r\n\r\n  setDefaultHeaders(headers) {\r\n    this.client.defaults.headers = {\r\n      ...this.client.defaults.headers,\r\n      ...headers,\r\n    };\r\n  }\r\n\r\n  async request(opts) {\r\n    const requestOpts = BaseApi.preRequest(opts);\r\n\r\n    return this.client(requestOpts)\r\n      .then((response) => BaseApi.preResponse(response, requestOpts))\r\n      .catch((error) => {\r\n        return BaseApi.preResponse(error, requestOpts);\r\n      });\r\n  }\r\n\r\n  async delete(uri, params, headers) {\r\n    const opts = BaseApi.buildOptions(\"delete\", uri, params, headers);\r\n    opts.data = params;\r\n    return this.request(opts);\r\n  }\r\n\r\n  async get(uri, params, headers) {\r\n    const opts = BaseApi.buildOptions(\"get\", uri, params, headers);\r\n    return this.request(opts);\r\n  }\r\n\r\n  async post(uri, payload, params, headers) {\r\n    const opts = BaseApi.buildOptions(\"post\", uri, params, headers);\r\n\r\n    opts.data = payload;\r\n    return this.request(opts);\r\n  }\r\n\r\n  async put(uri, payload, params, headers) {\r\n    const opts = BaseApi.buildOptions(\"put\", uri, params, headers);\r\n\r\n    opts.data = payload;\r\n\r\n    return this.request(opts);\r\n  }\r\n\r\n//   async upload(uri, file) {\r\n//     return this.client\r\n//       .post(uri, file, { headers: UPLOAD_HEADER })\r\n//       .then((response) => BaseApi.preResponse(response, {}))\r\n//       .catch((error) => BaseApi.preResponse(error, {}));\r\n//   }\r\n\r\n  static preRequest(opts) {\r\n    return {\r\n      ...opts,\r\n    };\r\n  }\r\n\r\n  static processError(rawResponse) {\r\n    const {\r\n      response: { data },\r\n    } = rawResponse;\r\n    const { error, message } = data;\r\n\r\n    if (error) {\r\n      throw Object.assign(error, { data: message });\r\n    }\r\n    throw message;\r\n  }\r\n\r\n  static preResponse(rawResponse) {\r\n    if (rawResponse?.response || rawResponse?.code) {\r\n      BaseApi.processError(rawResponse);\r\n    }\r\n\r\n    const status =\r\n      get(rawResponse, [\"status\"]) || get(rawResponse, [\"response\", \"status\"]);\r\n    let data;\r\n    let error;\r\n    switch (status) {\r\n      case 200:\r\n      case 201:\r\n        data = get(rawResponse, [\"data\", \"data\"]) || get(rawResponse, [\"data\"]);\r\n        const besideData = get(rawResponse, [\"data\"]);\r\n        if (besideData && besideData.code && besideData.message) {\r\n          data = {\r\n            data: data,\r\n            code: besideData.code,\r\n            message: besideData.message,\r\n          };\r\n        }\r\n        break;\r\n      case 400:\r\n        error = \"400 Bad Request Error\";\r\n        break;\r\n      case 401:\r\n        this.clearSession();\r\n        error = \"401 Unauthorize\";\r\n        break;\r\n      case 402:\r\n        error = \"402 Unauthorize\";\r\n        break;\r\n      case 403:\r\n        error = \"403 Forbidden\";\r\n        break;\r\n      case 404:\r\n        error = \"404 Not Found\";\r\n        break;\r\n      default:\r\n        error = \"Unknown Error\";\r\n    }\r\n\r\n    if (isNil(error)) return data;\r\n\r\n    // eslint-disable-next-line no-console\r\n    console.error(rawResponse);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport default BaseApi.getInstance();\r\n","export const paths = {\r\n  getPostList(data) {\r\n    return `/post?limitPost=${data.limitPost}&index=${data.index}&profile=${data.profile}&userId=${data.userId}`;\r\n  },\r\n  createPost() {\r\n    return `/post`;\r\n  },\r\n  deletePost(postId) {\r\n    return `/post/delete/${postId}`;\r\n  },\r\n};\r\n","import baseApi from \"../base.api\";\r\nimport { paths } from \"../paths\";\r\n\r\nexport const getPostList = (data) => {\r\n    return baseApi.get(paths.getPostList(data));\r\n};\r\n\r\nexport const createPost = (post) => {\r\n    return baseApi.get(paths.createPost(),post);\r\n};\r\n\r\nexport const deletePost = (postId) => {\r\n    return baseApi.get(paths.deletePost(postId));\r\n};\r\n","import * as post from \"./module/post.api\";\r\n\r\nconst apis = {\r\n  post,\r\n};\r\n\r\nexport default apis;\r\n","import axios from \"axios\";\r\nimport { HTTP_CONNECT } from \"config\";\r\nimport {\r\n  CREATE_POST_SUCCESS,\r\n  EDIT_POST_SUCCESS,\r\n  DELETE_POST_SUCCESS,\r\n  GET_POST_LIST,\r\n  LIKE_POST,\r\n  LIKE_POST_SUCCESS,\r\n  LIKE_COMMENT_SUCCESS,\r\n  POST_COMMENT_SUCCESS\r\n} from \"store/post/post.constant\";\r\nimport apis from \"service\";\r\nimport { setNotify } from \"../common/common.action\";\r\nconst config = {\r\n  headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n};\r\n\r\nexport const getPostList = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await apis.post.getPostList(data);\r\n      await dispatch(getPostListAction(res));\r\n    } catch (err) {\r\n      dispatch(getPostListAction(err.response));\r\n    }\r\n  };\r\n};\r\n\r\n// export const getPostList = (limit) => {\r\n//   return async (dispatch) => {\r\n//     try {\r\n//       const res = await axios.get(\r\n//         `${HTTP_CONNECT}/post?limitPost=${limit}`,\r\n\r\n//         config\r\n//       );\r\n//       await dispatch(getPostListAction(res));\r\n//     } catch (err) {\r\n//       dispatch(getPostListAction(err.response));\r\n//     }\r\n//   };\r\n// };\r\n\r\nconst getPostListAction = (data) => {\r\n  return { type: GET_POST_LIST, payload: data };\r\n};\r\n\r\nexport const createPost = (post) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(`${HTTP_CONNECT}/post`, post, config);\r\n      await dispatch(createPostAction(res));\r\n      await dispatch(setNotify(res.status));\r\n    } catch (err) {\r\n      await dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\n\r\nconst createPostAction = (data) => {\r\n  return {\r\n    type: CREATE_POST_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const editPost = (post) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.put(`${HTTP_CONNECT}/post`, post, config);\r\n      if (res.status === 200) {\r\n        await dispatch(editPostAction(res));\r\n        await dispatch(setNotify(res.status));\r\n      }\r\n    } catch (err) {\r\n      // console.log(err.response);\r\n      dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\n\r\nconst editPostAction = (data) => {\r\n  return {\r\n    type: EDIT_POST_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const deletePost = (postId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.delete(\r\n        `${HTTP_CONNECT}/post/delete/${postId}`,\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        await dispatch(detelePostAction(res));\r\n        await dispatch(setNotify(res.status));\r\n      }\r\n    } catch (err) {\r\n      await dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\n\r\nexport const likePost = (postId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${HTTP_CONNECT}/post/likepost/${postId}`,\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        await dispatch(likePostSuccess(res.data));\r\n      }\r\n    } catch (err) {\r\n      console.log(\"res\", err.response);\r\n      // await dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\n\r\nconst likePostSuccess = (data) => {\r\n  return {\r\n    type: LIKE_POST_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nconst detelePostAction = (data) => {\r\n  return {\r\n    type: DELETE_POST_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const postComment = (data) => {\r\n  return async (dispatch,getState) => {\r\n    try {\r\n      const user= getState().userReducer.profileCurentUser;\r\n      const res = await axios.post(`${HTTP_CONNECT}/comment`, data, config);\r\n      if (res.status === 200) {\r\n        await dispatch(postCommentSuccess({res:res.data,user:user,req:data}));\r\n      }\r\n    } catch (err) {\r\n      console.log(\"res\", err);\r\n      // await dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\n\r\nconst postCommentSuccess = (data) =>{\r\n  return {\r\n    type: POST_COMMENT_SUCCESS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nexport const likeComment = (data) => {\r\n  return async (dispatch,getState) => {\r\n    try {\r\n      const user= getState().userReducer.profileCurentUser;\r\n      const res = await axios.post(\r\n        `${HTTP_CONNECT}/comment/likeComment`,\r\n        data,\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        await dispatch(likeCommentSuccess({res:res.data,req:data,user:user}));\r\n      }\r\n    } catch (err) {\r\n      console.log(\"res\", err);\r\n      // await dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\nconst likeCommentSuccess = (data) => {\r\n  return {\r\n    type: LIKE_COMMENT_SUCCESS,\r\n    payload: data,\r\n  };\r\n};\r\nexport const deleteComment = (postId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${HTTP_CONNECT}/post/likepost/${postId}`,\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        await dispatch(likePostSuccess(res.data));\r\n      }\r\n    } catch (err) {\r\n      console.log(\"res\", err.response);\r\n      // await dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\n\r\nexport const editComment = (postId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `${HTTP_CONNECT}/post/likepost/${postId}`,\r\n        config\r\n      );\r\n      if (res.status === 200) {\r\n        await dispatch(likePostSuccess(res.data));\r\n      }\r\n    } catch (err) {\r\n      console.log(\"res\", err.response);\r\n      // await dispatch(setNotify(err.response.status));\r\n    }\r\n  };\r\n};\r\n","import DefaultAvatar from \"assets/images/default-avatar.jpg\";\r\nimport DefaultImage from \"assets/images/default-image.jpg\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { getUrlImage } from \"util/index\";\r\nimport \"./style.scss\";\r\nimport { likeComment, deleteComment } from \"store/post/post.action\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { formatMinutes } from \"util/index\";\r\nconst Comment = ({ comment, profile, postId }) => {\r\n  const dispatch = useDispatch();\r\n  const [isLike, setLike] = useState(false);\r\n  const [currentComment, setCurrentComment] = useState(comment);\r\n  useEffect(() => {\r\n    console.log(\"change\");\r\n    const like = !!currentComment.like.find((e) => e.user._id === profile._id);\r\n    setLike(like);\r\n  }, [currentComment.like.length, currentComment.like]);\r\n  const handleLikeComment = (type) => {\r\n    console.log(currentComment.like);\r\n    let data = {\r\n      commentId: comment._id,\r\n      type,\r\n      postId,\r\n    };\r\n    dispatch(likeComment(data));\r\n\r\n    let newComment = currentComment;\r\n\r\n    if (type == 1) {\r\n      newComment.like.push({\r\n        user: profile,\r\n        createAt: Date.now,\r\n      });\r\n    }\r\n    if (type == 0) {\r\n      newComment.like = newComment.like.filter(\r\n        (e) => e.user._id !== profile._id\r\n      );\r\n    }\r\n    setCurrentComment(newComment);\r\n  };\r\n  return (\r\n    <div className=\"comment\">\r\n      <img\r\n        src={\r\n          comment.user?.avatar != \"\"\r\n            ? getUrlImage(comment.user?.avatar)\r\n            : DefaultAvatar\r\n        }\r\n        alt=\"\"\r\n        className=\"avatar\"\r\n      />\r\n      <div className=\"comment__wrapperContent\">\r\n        <div className=\"comment__content\">\r\n          <p className=\"comment__owner\">{comment.user?.fullName}</p>\r\n          <p className=\"comment__text\">{comment?.content}</p>\r\n        </div> \r\n        {!!comment.file?.filePath ? (\r\n          <div className=\"comment__attachment\">\r\n            <img src={getUrlImage(comment.file?.filePath)} alt=\"\" />\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        <div className=\"comment__footer\">\r\n          {isLike ? (\r\n            <div className=\"comment__react\">\r\n              <span\r\n                className=\"comment__like comment__like--active\"\r\n                onClick={() => handleLikeComment(0)}\r\n              >\r\n                Bỏ Thích\r\n              </span>\r\n              {/* <span className=\"comment__repply \">Phản hồi</span> */}\r\n            </div>\r\n          ) : (\r\n            <div className=\"comment__react\">\r\n              <span\r\n                className=\"comment__like comment__like--active\"\r\n                onClick={() => handleLikeComment(1)}\r\n              >\r\n                Thích\r\n              </span>\r\n              {/* <span className=\"comment__repply \">Phản hồi</span> */}\r\n            </div>\r\n          )}\r\n          <div className=\"comment__react\">\r\n            <span className=\"comment__time\">\r\n              {formatMinutes(comment.createAt)}\r\n            </span>\r\n            {/* <span className=\"comment__repply \">Phản hồi</span> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import DefaultAvatar from \"assets/images/default-avatar.jpg\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getUrlImage } from \"util/index\";\r\nimport Comment from \"./Comment\";\r\nimport { PlusOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\nimport \"./style.scss\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { Upload } from \"antd\";\r\nimport { postComment, editComment } from \"store/post/post.action\";\r\nimport { beforeUpload } from \"util/index\";\r\nimport autosize from \"autosize\";\r\nconst CommentList = ({ post, isShow, isFocusInput, comments }) => {\r\n  //GENERATE\r\n  const profileReducer = useSelector(\r\n    (state) => state.userReducer.profileCurentUser\r\n  );\r\n  const inputRef = useRef();\r\n  const [isShowUpload, setIsShowUpload] = useState(false);\r\n  const [errMessage, setErrMessage] = useState(\"\");\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [loadingAttach, setLoadingAttach] = useState(false);\r\n  const [comment, setComment] = useState(\"\");\r\n  //\r\n  const dispatch = useDispatch();\r\n  const beforeUploadFile = (file) => {\r\n    beforeUpload(file);\r\n  };\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      {loadingAttach ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  );\r\n  const handleChange = (info) => {\r\n    if (info.file.status === \"uploading\") {\r\n      setLoadingAttach(true);\r\n      return;\r\n    }\r\n    if (info.file.status === \"done\") {\r\n      // Get this url from response in real world.\r\n      setAttachment(info.file);\r\n      console.log(info.file);\r\n      setLoadingAttach(false);\r\n    }\r\n  };\r\n  const handleSendComment = (event) => {\r\n    if (event.keyCode == 13 && event.shiftKey) {\r\n      return;\r\n    } else if (event.key === \"Enter\") {\r\n      let file = attachment.map((item) => ({\r\n        file: item.response.data.filePath,\r\n        type: item.response.data.fileType,\r\n        name: item.response.data.fileName,\r\n        size: item.response.data.fileSize,\r\n      }));\r\n      console.log({\r\n        content: event.target.value,\r\n        postId: post._id,\r\n        file\r\n      })\r\n      dispatch(\r\n        postComment({\r\n          content: event.target.value,\r\n          postId: post._id,\r\n          file\r\n        })\r\n      );\r\n      setComment(\"\");\r\n      setAttachment(null)\r\n      setIsShowUpload(false)\r\n      autosize(inputRef.current);\r\n    }\r\n  };\r\n  const handleChangeComment = (event) => {\r\n    if (event.key === \"Enter\") console.log(\"sss\");\r\n    setComment(event.target.value);\r\n  };\r\n  useEffect(() => {\r\n    if (isFocusInput) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [isFocusInput]);\r\n  useEffect(() => {\r\n    autosize(inputRef.current);\r\n  }, [comment]);\r\n  const onPreview = async (file) => {\r\n    let src = file.url;\r\n    if (!src) {\r\n      src = await new Promise((resolve) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file.originFileObj);\r\n        reader.onload = () => resolve(reader.result);\r\n      });\r\n    }\r\n    const image = new Image();\r\n    image.src = src;\r\n    const imgWindow = window.open(src);\r\n    imgWindow.document.write(image.outerHTML);\r\n  };\r\n  return (\r\n    <div className=\"commentList\" style={{ display: isShow ? \"block\" : \"none\" }}>\r\n      <p className=\"commentList__seeAll\">Xem tất cả bình luận</p>\r\n      <div className=\"commentList__postComment\">\r\n        <img\r\n          src={\r\n            profileReducer?.avatar\r\n              ? getUrlImage(profileReducer?.avatar)\r\n              : DefaultAvatar\r\n          }\r\n          alt=\"avatar\"\r\n          className=\"avatar\"\r\n        />\r\n        <div className=\"w-100\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Viết bình luận...\"\r\n            className=\"commentList__inputComment\"\r\n            ref={(e) => (inputRef.current = e)}\r\n            value={comment}\r\n            onChange={(e) => {\r\n              handleChangeComment(e);\r\n              // autosize(inputRef.current);\r\n            }}\r\n            onKeyDown={handleSendComment}\r\n          />\r\n          <i\r\n            class=\"fa fa-image commentList__iconAttach\"\r\n            onClick={() => setIsShowUpload(!isShowUpload)}\r\n          ></i>\r\n          {/* Upload */}\r\n          {isShowUpload && (\r\n            <>\r\n              <Upload\r\n                onPreview={onPreview}\r\n                listType=\"picture-card\"\r\n                className=\"avatar-uploader\"\r\n                fileList={attachment}\r\n                action=\"https://uploadfile0510.herokuapp.com/api/upload/singleFile\"\r\n                // beforeUpload={beforeUploadFile}\r\n                onChange={({ fileList: newFileList }) => {\r\n                  setAttachment(newFileList);\r\n                }}\r\n              >\r\n                {attachment ? (\r\n                  <img\r\n                    src={getUrlImage(attachment)}\r\n                    alt=\"avatar\"\r\n                    style={{ width: \"100%\" }}\r\n                  />\r\n                ) : (\r\n                  uploadButton\r\n                )}\r\n              </Upload>\r\n              <p>{errMessage}</p>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/* Comments */}\r\n      {comments?.map((item, index) => {\r\n        return (\r\n          <Comment\r\n            key={index}\r\n            profile={profileReducer}\r\n            comment={item}\r\n            postId={post._id}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\nexport default CommentList;\r\n","import \"./style.scss\";\r\nimport DefaultAvatar from \"assets/images/default-avatar.jpg\";\r\nimport DefaultImage from \"assets/images/default-image.jpg\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/vi\"; // without this line it didn't work\r\nimport { Menu, Dropdown, Carousel } from \"antd\";\r\nimport {\r\n  EllipsisOutlined,\r\n  CloseCircleOutlined,\r\n  FormOutlined,\r\n  ExclamationCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { getUrlImage, getUrlVideo } from \"util/index\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { likePost } from \"store/post/post.action\";\r\nimport {\r\n  LikeOutlined,\r\n  CommentOutlined,\r\n  ShareAltOutlined,\r\n  LikeFilled,\r\n} from \"@ant-design/icons\";\r\nimport { useState } from \"react\";\r\nimport CommentList from \"./CommentList\";\r\nimport { formatMinutes } from \"util/index\";\r\nmoment.locale(\"vi\");\r\n\r\nconst Post = ({ post, onEdit, onDelete, type = \"default\" }) => {\r\n  //State\r\n  const [isShowPreviewLike, setIsShowPreviewLike] = useState(false);\r\n  const [isShowCommentList, setIsShowCommentList] = useState(false);\r\n  const [isFocusInput, setIsFocusInput] = useState(false);\r\n  //\r\n  const dispatch = useDispatch();\r\n  let history = useHistory();\r\n  // GET DATA FROM REDUCER\r\n  const profileReducer = useSelector((state) => state.userReducer.profile);\r\n  const profileCurentReducer = useSelector(\r\n    (state) => state.userReducer.profileCurentUser\r\n  );\r\n  //\r\n  const handleSettings = ({ key }) => {\r\n    switch (key) {\r\n      case \"1\":\r\n        break;\r\n      case \"2\":\r\n        onEdit();\r\n        break;\r\n      case \"3\":\r\n        onDelete();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  const handleLike = () => {\r\n    dispatch(likePost(post._id));\r\n  };\r\n  const menu = (\r\n    <Menu onClick={handleSettings}>\r\n      <Menu.Item key={1} icon={<ExclamationCircleOutlined />}>\r\n        Báo cáo\r\n      </Menu.Item>\r\n      <Menu.Item key={2} icon={<FormOutlined />}>\r\n        Chỉnh sửa bài viết\r\n      </Menu.Item>\r\n      <Menu.Item key={3} icon={<CloseCircleOutlined />}>\r\n        Xóa bài viết\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className=\"post card\">\r\n      <div className=\"post__owner\">\r\n        <img\r\n          src={\r\n            post?.poster.avatar != \"\"\r\n              ? getUrlImage(post?.poster.avatar)\r\n              : DefaultAvatar\r\n          }\r\n          alt=\"\"\r\n          className={post?.poster.avatar != \"\" ? \"avatar\" : \"avatar skeleton\"}\r\n        />\r\n        <div className=\"w-100\">\r\n          <p\r\n            className={\r\n              post?.poster.username ? \"post__userName\" : \"post__userName \"\r\n            }\r\n            onClick={() => {\r\n              history.push(`/profile/${post?.poster._id}`);\r\n            }}\r\n          >\r\n            {post?.poster.fullName}\r\n          </p>\r\n          <p\r\n            className={\r\n              post?.audience ? \"post__permission\" : \"post__permission  \"\r\n            }\r\n          >\r\n            {post?.audience}{\" \"}\r\n            {post?.createAt ? \" - \" + formatMinutes(post?.createAt) : \"\"}\r\n          </p>\r\n        </div>\r\n        {profileCurentReducer._id === post.poster._id && (\r\n          <Dropdown overlay={menu} placement=\"bottomRight\" trigger={[\"click\"]}>\r\n            <p className=\"post__settings\">\r\n              <EllipsisOutlined />\r\n            </p>\r\n          </Dropdown>\r\n        )}\r\n      </div>\r\n      {/*Post content include text and attachments */}\r\n      {post?.text ? (\r\n        <p className=\"post__text\">{post?.text}</p>\r\n      ) : (\r\n        <div className=\"w-100 py-3\">\r\n          <p className=\"skeleton skeleton-text\"></p>\r\n          <p className=\"skeleton skeleton-text\"></p>\r\n          <p className=\"skeleton skeleton-text\"></p>\r\n          <p className=\"skeleton skeleton-text\"></p>\r\n        </div>\r\n      )}\r\n      {type !== \"dialog\" && (\r\n        <div\r\n          className=\"post__attachments\"\r\n          style={{ display: post?.attachments?.length > 0 ? \"block\" : \"none\" }}\r\n        >\r\n          <Carousel dotPosition={\"bottom\"}>\r\n            {post?.attachments?.length > 0 &&\r\n              post?.attachments.map((item, index) => {\r\n                if (item.type === \"video/mp4\") {\r\n                  return (\r\n                    <video controls key={index}>\r\n                      <source src={getUrlVideo(item.file)} />\r\n                    </video>\r\n                  );\r\n                }\r\n                return (\r\n                  <div key={index}>\r\n                    <img src={getUrlImage(item.file)} alt=\"attachments\" />\r\n                  </div>\r\n                );\r\n              })}\r\n          </Carousel>\r\n        </div>\r\n      )}\r\n\r\n      {/* Số like, bình luận, chia sẽ */}\r\n      <div className=\"post__countReact\">\r\n        <p>\r\n          {post?.like.length} lượt thích\r\n          <div className=\"post__previewReact\">\r\n            {post?.like.map((item, index) => {\r\n              return (\r\n                <span key={index} className=\"d-block\">\r\n                  {item.user.fullName}\r\n                </span>\r\n              );\r\n            })}\r\n          </div>\r\n        </p>\r\n        <p\r\n          onClick={() => {\r\n            setIsShowCommentList(!isShowCommentList);\r\n            setIsFocusInput(false);\r\n          }}\r\n        >\r\n          {post?.comments.length} bình luận\r\n        </p>\r\n        <p>0 lượt chia sẻ</p>\r\n      </div>\r\n      <div\r\n        className=\"post__react\"\r\n        style={{\r\n          display: \"flex\",\r\n          // display: post && Object.keys(post._id).length !== 0 ? \"flex\" : \"flex\",\r\n          borderBottom: isShowCommentList ? \"1px solid black\" : \"\",\r\n        }}\r\n      >\r\n        <button className=\"btn w-100\" onClick={() => handleLike()}>\r\n          {post?.like.some((item) => item?.user?._id == profileCurentReducer._id) ? (\r\n            <>\r\n              <LikeFilled style={{ color: \"#2078f4\" }} />\r\n              <span style={{ color: \"#2078f4\" }}>Thích</span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <LikeOutlined />\r\n              <span>Thích</span>\r\n            </>\r\n          )}\r\n        </button>\r\n        <button\r\n          className=\"btn w-100\"\r\n          onClick={() => {\r\n            setIsShowCommentList(true);\r\n            setIsFocusInput(true);\r\n          }}\r\n        >\r\n          <CommentOutlined />\r\n          <span>Bình luận</span>\r\n        </button>\r\n        <button className=\"btn w-100\">\r\n          <ShareAltOutlined />\r\n          <span>Chia sẻ</span>\r\n        </button>\r\n      </div>\r\n      {/* Comment list */}\r\n      <CommentList\r\n        isShow={isShowCommentList}\r\n        post={post}\r\n        isFocusInput={isFocusInput}\r\n        comments={post?.comments ?? []}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Post;\r\n","import { useEffect } from \"react\";\r\nimport { useMemo } from \"react\";\r\nimport {\r\n  NotificationContainer,\r\n  NotificationManager,\r\n} from \"react-notifications\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setNotify } from \"store/common/common.action\";\r\n\r\nimport \"./style.scss\";\r\n\r\nconst Alert = ({ onSuccess, title }) => {\r\n  const dispatch = useDispatch();\r\n  const notifyReducer = useSelector((state) => state.commonReducer.notify);\r\n  useEffect(() => {\r\n  }, [notifyReducer]);\r\n\r\n  useMemo(() => {\r\n    if (notifyReducer === 200) {\r\n      NotificationManager.success(\"Thành công\", title);\r\n      onSuccess();\r\n    } else if (notifyReducer === 400 || notifyReducer === 500) {\r\n      NotificationManager.error(\"Thất bại\", title);\r\n    }\r\n    dispatch(setNotify(null));\r\n  }, [notifyReducer, title]);\r\n\r\n  return <NotificationContainer />;\r\n};\r\nexport default Alert;\r\n","import React, {\r\n  Component,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport DefualtAvatar from \"assets/images/default-avatar.jpg\";\r\nimport { Select, Form, Input, Upload } from \"antd\";\r\n\r\nimport { createPost, editPost } from \"store/post/post.action\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getUrlImage } from \"util/index\";\r\n\r\nconst { TextArea } = Input;\r\nconst { Option } = Select;\r\n\r\nconst AddEditPost = React.forwardRef(({ avatar, fullName }, ref) => {\r\n  //\r\n  const [formCreateEditPost] = Form.useForm();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    console.log(\"DidMount\");\r\n  }, []);\r\n\r\n  //Form post\r\n\r\n  const [audience, setAudience] = useState(\"public\");\r\n  const [text, setText] = useState(\"\");\r\n  const [attachments, setAttachments] = useState([]);\r\n  const [tags, setTags] = useState([]);\r\n  const [selectedPost, setSelectedPost] = useState(null);\r\n\r\n  //\r\n  useImperativeHandle(ref, () => ({\r\n    setInitState,\r\n    setValuesForm,\r\n    handleSubmit,\r\n  }));\r\n\r\n  const setInitState = () => {\r\n    console.log(\"SET INIT\");\r\n    formCreateEditPost.resetFields();\r\n    setAttachments([]);\r\n    setAudience(\"public\");\r\n    setText(\"\");\r\n  };\r\n\r\n  const setValuesForm = (audience, text, editAttach, postId) => {\r\n    formCreateEditPost.setFieldsValue({\r\n      Text: text,\r\n    });\r\n    setText(text);\r\n    setSelectedPost(postId);\r\n    setAttachments(editAttach);\r\n    setAudience(audience);\r\n  };\r\n\r\n  const handleSubmit = (typeForm) => {\r\n    switch (typeForm) {\r\n      case \"create\": {\r\n        console.log(\"CREATE\");\r\n        let newAttachments = attachments.map((item) => ({\r\n          file: item.response.data.filePath,\r\n          type: item.response.data.fileType,\r\n          name: item.response.data.fileName,\r\n          size: item.response.data.fileSize,\r\n        }));\r\n        const post = {\r\n          text,\r\n          audience,\r\n          attachments: newAttachments,\r\n          postParent: \"\",\r\n        };\r\n        // await console.log(\"create\", post);\r\n        dispatch(createPost(post));\r\n        break;\r\n      }\r\n      case \"edit\": {\r\n        console.log(\"EDIT\", attachments);\r\n        let newAttachments = attachments.map((item) => ({\r\n          file: item.file ? item.file : item.response.data.filePath,\r\n          type: item.type ? item.type : item.response.data.fileType,\r\n          name: item.name ? item.name : item.response.data.fileName,\r\n          size: item.size ? item.size : item.response.data.fileSize,\r\n        }));\r\n        const post = {\r\n          postId: selectedPost,\r\n          text,\r\n          audience,\r\n          attachments: newAttachments,\r\n          postParent: \"\",\r\n        };\r\n        // await console.log(\"create\", post);\r\n        dispatch(editPost(post));\r\n        break;\r\n      }\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  //\r\n  const onPreview = async (file) => {\r\n    let src = file.url;\r\n    if (!src) {\r\n      src = await new Promise((resolve) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file.originFileObj);\r\n        reader.onload = () => resolve(reader.result);\r\n      });\r\n    }\r\n    const image = new Image();\r\n    image.src = src;\r\n    const imgWindow = window.open(src);\r\n    imgWindow.document.write(image.outerHTML);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Form form={formCreateEditPost} onFinish={handleSubmit}>\r\n        <div className=\"postStatus__content\">\r\n          <div className=\"d-flex align-items-center\">\r\n            <img\r\n              src={avatar ? getUrlImage(avatar) : DefualtAvatar}\r\n              alt=\"avatar\"\r\n              className=\"avatar\"\r\n              style={{ paddingRight: \"0\" }}\r\n            />\r\n            <div>\r\n              <p className=\"m-0\">{fullName}</p>\r\n              <Select\r\n                defaultValue=\"public\"\r\n                style={{ width: 120 }}\r\n                onChange={(value) => {\r\n                  setAudience(value);\r\n                }}\r\n                value={audience}\r\n              >\r\n                <Option value=\"public\">Công khai</Option>\r\n                <Option value=\"friends\">Bạn bè</Option>\r\n                <Option value=\"private\">Chỉ mình tôi</Option>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-2\">\r\n            <Form.Item\r\n              label={\"Nội dung\"}\r\n              name=\"Text\"\r\n              labelCol={{ span: 24 }}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Nội dung không được trống\",\r\n                },\r\n              ]}\r\n            >\r\n              <TextArea\r\n                autoSize={{ minRows: 3 }}\r\n                placeholder=\"Bạn đang nghĩ gì thế\"\r\n                onChange={(e) => {\r\n                  setText(e.target.value);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label={\"Hình ảnh\"}\r\n              name=\"Attachments\"\r\n              labelCol={{ span: 24 }}\r\n            >\r\n              <Upload\r\n                action=\"https://uploadfile0510.herokuapp.com/api/upload/singleFile\"\r\n                listType=\"picture-card\"\r\n                fileList={attachments}\r\n                onChange={({ fileList: newFileList }) => {\r\n                  setAttachments(newFileList);\r\n                }}\r\n                onPreview={onPreview}\r\n              >\r\n                {attachments.length < 5 && \"+ Upload\"}\r\n              </Upload>\r\n            </Form.Item>\r\n          </div>\r\n          <p className=\"options\">Tùy chọn thêm</p>\r\n          {/* <div className=\"d-flex align-items-center justify-content-start\">\r\n            <i className=\"fa fa-image\"></i>\r\n            <i className=\"fa fa-tag\"></i>\r\n          </div> */}\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default AddEditPost;\r\n","import \"./style.scss\";\r\nimport DefualtAvatar from \"assets/images/default-avatar.jpg\";\r\nimport Dialog from \"compoents/Dialog\";\r\nimport {  useHistory } from \"react-router-dom\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\nimport Post from \"./Post\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Alert from \"compoents/Alert\";\r\nimport { getUrlImage, getUrlVideo } from \"util/index\";\r\nimport AddEditPost from \"./AddEditPost\";\r\nimport { deletePost } from \"store/post/post.action\";\r\n\r\nconst ListPost = ({ postList }) => {\r\n  //Init\r\n  const dispatch = useDispatch();\r\n  //\r\n  //Dialog\r\n  const [isShowDialog, setIsShowDialog] = useState(false);\r\n  const [titleDialog, setTitleDialog] = useState(\"Đăng bài viết\");\r\n  const [btnSubmitDialog, setBtnSubmitDialog] = useState(\"Đăng\");\r\n\r\n  //Reducer\r\n  const profileReducer = useSelector(\r\n    (state) => state.userReducer.profileCurentUser\r\n  );\r\n  const profileOtherReducer = useSelector((state) => state.userReducer.profile);\r\n  const notifyReducer = useSelector((state) => state.postReducer.notify);\r\n\r\n  //Alert\r\n  const [titleAlert, setTitleAlert] = useState(\"Tạo bài viết\");\r\n\r\n  //Form post\r\n  const refAddEditPost = useRef(null);\r\n  const [typeForm, setTypeForm] = useState(\"create\");\r\n  const [selectedPost, setSelectedPost] = useState(null);\r\n\r\n  //set\r\n  const history = useHistory();\r\n  const handleCreate = async () => {\r\n    await setIsShowDialog(true);\r\n\r\n    // console.log(refAddEditPost.current);\r\n    setTypeForm(\"create\");\r\n    setTitleDialog(\"Đăng bài viết\");\r\n    setTitleAlert(\"Đăng bài viết\");\r\n    setBtnSubmitDialog(\"Đăng\");\r\n    await refAddEditPost?.current?.setInitState();\r\n  };\r\n  const handleEdit = async (postId) => {\r\n    const { audience, text, attachments } = postList.filter(\r\n      (item) => item._id === postId\r\n    )[0];\r\n\r\n    let editAttach = [];\r\n    attachments.map((item, index) => {\r\n      editAttach.push({\r\n        uid: index,\r\n        name: item.file,\r\n        status: \"done\",\r\n        url:\r\n          item.type === \"video/mp4\"\r\n            ? getUrlVideo(item.file)\r\n            : getUrlImage(item.file),\r\n        file: item.file,\r\n        type: item.type,\r\n      });\r\n    });\r\n    await setIsShowDialog(true);\r\n\r\n    setTypeForm(\"edit\");\r\n    setTitleDialog(\"Chỉnh sửa bài viết\");\r\n    setTitleAlert(\"Cập nhật bài viết\");\r\n    setBtnSubmitDialog(\"Cập nhật\");\r\n\r\n    await refAddEditPost.current.setValuesForm(\r\n      audience,\r\n      text,\r\n      editAttach,\r\n      postId\r\n    );\r\n  };\r\n\r\n  const handleDelete = async (postId) => {\r\n    setTypeForm(\"delete\");\r\n    setBtnSubmitDialog(\"Xóa\");\r\n    setTitleDialog(\"Xóa bài viết\");\r\n    setTitleAlert(\"Xóa bài viết\");\r\n    await setSelectedPost(postId);\r\n    await setIsShowDialog(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"listPost\">\r\n      {/* Notification */}\r\n      <Alert\r\n        response={notifyReducer}\r\n        title={titleAlert}\r\n        onSuccess={() => {\r\n          if (refAddEditPost.current) {\r\n            refAddEditPost.current.setInitState();\r\n          }\r\n          setIsShowDialog(false);\r\n        }}\r\n      />\r\n      {/* Post status */}\r\n      {(profileOtherReducer._id === profileReducer._id||history.location.pathname=='/') && (\r\n        <div className=\"card postStatus\">\r\n          <img\r\n            src={\r\n              profileReducer?.avatar\r\n                ? getUrlImage(profileReducer?.avatar)\r\n                : DefualtAvatar\r\n            }\r\n            alt=\"avatar\"\r\n            className=\"avatar\"\r\n          />\r\n          <div className=\"postStatus__placehoder\" onClick={handleCreate}>\r\n            <p> Chia sẻ với mọi người về suy nghĩ của bạn hiện tại nào...</p>\r\n          </div>\r\n          <Dialog\r\n            isShow={isShowDialog}\r\n            handleHideDialog={() => {\r\n              setIsShowDialog(false);\r\n            }}\r\n            btnSubmitName={btnSubmitDialog}\r\n            title={titleDialog}\r\n            onSubmit={() => {\r\n              typeForm !== \"delete\"\r\n                ? refAddEditPost.current.handleSubmit(typeForm)\r\n                : dispatch(deletePost(selectedPost));\r\n            }}\r\n            content={\r\n              typeForm !== \"delete\" ? (\r\n                <AddEditPost\r\n                  ref={refAddEditPost}\r\n                  avatar={profileReducer?.avatar}\r\n                  fullName={profileReducer?.fullName}\r\n                />\r\n              ) : (\r\n                <p>Bạn có muốn xóa bài viết này ?</p>\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Render Post List */}\r\n      {postList?.length > 0 ? (\r\n        postList &&\r\n        postList.map((post, index) => {\r\n          return (\r\n            <Post\r\n              post={post}\r\n              key={`post_${index + post.createAt}`}\r\n              onEdit={() => handleEdit(post._id)}\r\n              onDelete={() => handleDelete(post._id)}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListPost;\r\n","import \"./style.scss\";\r\nimport Dialog from \"compoents/Dialog\";\r\nimport { Select, Form, Upload, Input, DatePicker } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getUrlImage } from \"util/index\";\r\nimport { clearNotify, updateProfile } from \"store/user/user.action\";\r\nimport moment from \"moment\";\r\nimport Notifications from \"compoents/Alert\";\r\n\r\nconst { TextArea } = Input;\r\nconst EditProfile = () => {\r\n  //\r\n  const dispatch = useDispatch();\r\n\r\n  //Dialog\r\n  const [isShowDialog, setIsShowDialog] = useState(false);\r\n\r\n  // Reducer\r\n  const profileReducer = useSelector((state) => state.userReducer.profile);\r\n\r\n  // Form\r\n  const [formEditProfile] = Form.useForm();\r\n  const [fullName, setFullName] = useState(profileReducer?.fullName);\r\n  const [avatar, setAvatar] = useState(profileReducer?.avatar);\r\n  const [email, setEmail] = useState(profileReducer?.email);\r\n  const [coverPicture, setCoverPicture] = useState(\r\n    profileReducer?.coverPicture\r\n  );\r\n  const [dateOfBirth, setDateOfBirth] = useState(profileReducer?.dateOfBirth);\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const beforeUpload = (file) => {\r\n    const isJpgOrPng = file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n    if (!isJpgOrPng) {\r\n      setMessage(\"You can only upload JPG/PNG file!\");\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n      setMessage(\"Image must smaller than 2MB!\");\r\n    }\r\n    return isJpgOrPng && isLt2M;\r\n  };\r\n\r\n  const onPreview = async (file) => {\r\n    let src = file.url;\r\n    if (!src) {\r\n      src = await new Promise((resolve) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file.originFileObj);\r\n        reader.onload = () => resolve(reader.result);\r\n      });\r\n    }\r\n    const image = new Image();\r\n    image.src = src;\r\n    const imgWindow = window.open(src);\r\n    imgWindow.document.write(image.outerHTML);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    console.log(\"VALUES SUBMIT\", fullName, email);\r\n    dispatch(\r\n      updateProfile({ fullName, avatar, email, coverPicture, dateOfBirth })\r\n    );\r\n  };\r\n  return (\r\n    <div>\r\n      {/* Notification */}\r\n      <Notifications\r\n        title={\"Cập nhật\"}\r\n        onSuccess={() => {\r\n          setIsShowDialog(false);\r\n        }}\r\n      />\r\n      <button\r\n        className=\"btn btn-secondary w-100 mt-3\"\r\n        onClick={() => {\r\n          setIsShowDialog(true);\r\n          formEditProfile.setFieldsValue({\r\n            fullName,\r\n            email,\r\n          });\r\n        }}\r\n      >\r\n        Chỉnh sử thông tin\r\n      </button>\r\n      <Dialog\r\n        isShow={isShowDialog}\r\n        handleHideDialog={() => {\r\n          setIsShowDialog(false);\r\n          formEditProfile.resetFields();\r\n        }}\r\n        btnSubmitName={\"Cập nhật\"}\r\n        form={formEditProfile}\r\n        title={\"Chỉnh sửa thông tin\"}\r\n        onSubmit={handleSubmit}\r\n        content={\r\n          <Form\r\n            form={formEditProfile}\r\n            onFinish={handleSubmit}\r\n            layout={\"horizontal\"}\r\n            labelCol={{ span: 6 }}\r\n            wrapperCol={{ span: 14 }}\r\n            labelAlign={\"left\"}\r\n          >\r\n            <Form.Item label={\"Ảnh đại diện\"}>\r\n              <Upload\r\n                action=\"https://uploadfile0510.herokuapp.com/api/upload/singleFile\"\r\n                listType=\"picture-card\"\r\n                beforeUpload={beforeUpload}\r\n                onPreview={onPreview}\r\n                onChange={({ file }) => {\r\n                  if (file.status === \"done\") {\r\n                    setMessage(\"\");\r\n                    setAvatar(file?.response?.data?.filePath);\r\n                  }\r\n                }}\r\n                showUploadList={false}\r\n              >\r\n                {avatar ? (\r\n                  <img\r\n                    src={getUrlImage(avatar)}\r\n                    alt=\"avatar\"\r\n                    style={{ width: \"100%\" }}\r\n                  />\r\n                ) : (\r\n                  \"+ Upload\"\r\n                )}\r\n              </Upload>\r\n              {message && <div>{message}</div>}\r\n            </Form.Item>\r\n            <Form.Item label={\"Ảnh nền\"}>\r\n              <Upload\r\n                action=\"https://uploadfile0510.herokuapp.com/api/upload/singleFile\"\r\n                listType=\"picture-card\"\r\n                beforeUpload={beforeUpload}\r\n                onPreview={onPreview}\r\n                onChange={({ file }) => {\r\n                  if (file.status === \"done\") {\r\n                    setMessage(\"\");\r\n                    setCoverPicture(file?.response?.data?.filePath);\r\n                  }\r\n                }}\r\n                showUploadList={false}\r\n              >\r\n                {coverPicture ? (\r\n                  <img\r\n                    src={getUrlImage(coverPicture)}\r\n                    alt=\"coverPicture\"\r\n                    style={{ width: \"100%\" }}\r\n                  />\r\n                ) : (\r\n                  \"+ Upload\"\r\n                )}\r\n              </Upload>\r\n              {message && <div>{message}</div>}\r\n            </Form.Item>\r\n            <Form.Item\r\n              label={\"Họ và tên\"}\r\n              name=\"fullName\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Hãy điền họ và tên của bạn\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input onChange={(e) => setFullName(e.target.value)} />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label={\"Ngày sinh\"}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Hãy nhập ngày sinh của bạn\",\r\n                },\r\n              ]}\r\n            >\r\n              <DatePicker\r\n                format={\"DD/MM/YYYY\"}\r\n                defaultValue={moment(dateOfBirth, \"DD/MM/YYYY\")}\r\n                onChange={(date, dateString) => {\r\n                  setDateOfBirth(dateString);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              label={\"Email\"}\r\n              name=\"email\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Hãy điền email của bạn\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input onChange={(e) => setEmail(e.target.value)} />\r\n            </Form.Item>\r\n          </Form>\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import Dialog from \"compoents/Dialog\";\r\nimport { getUrlImage } from \"util/index\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { HTTP_CONNECT } from \"config\";\r\nimport { getConfig } from \"util/index\";\r\nimport Post from \"../../Post\";\r\n\r\nimport \"./style.scss\";\r\n\r\nconst PostDialog = ({ image, isShowPost, setShowPost }) => {\r\n  console.log(image);\r\n  const [post, setPost] = useState(null);\r\n  useEffect(() => {\r\n    getData();\r\n  }, [image]);\r\n  const getData = async () => {\r\n    const res = await axios.get(\r\n      `${HTTP_CONNECT}/post/getPostByIdImage/${image._id}`,\r\n      getConfig()\r\n    );\r\n    console.log(res.data.data[0]);\r\n    setPost(res.data.data[0]);\r\n  };\r\n  return (\r\n    <div className=\"PostDialog\">\r\n      <div className=\"PostDialog__left\">\r\n        <img width={600} height={500} src={getUrlImage(image.filePath)} />\r\n      </div>\r\n      <div className=\"PostDialog__right\">\r\n        {post?.poster && <Post post={post} type=\"dialog\"/>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PostDialog;\r\n","import RightSideBar from \"compoents/RightSideBar\";\r\nimport DefaultAvatar from \"assets/images/default-avatar.jpg\";\r\nimport DefaultImage from \"assets/images/default-image.jpg\";\r\nimport { Button } from \"antd\";\r\nimport \"./style.scss\";\r\nimport ListPost from \"pages/SocialMedia/ListPost\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport { friendRelate } from \"util/index\";\r\nimport Dialog from \"compoents/Dialog/index\";\r\nimport {\r\n  friendRequest,\r\n  getUserProfile,\r\n  unfriend,\r\n} from \"store/user/user.action\";\r\nimport { useEffect, useState } from \"react\";\r\nimport EditProfile from \"./EditProfile\";\r\nimport { getUrlImage } from \"util/index\";\r\nimport { getPostList } from \"store/post/post.action\";\r\nimport { getImageUser } from \"store/user/user.action\";\r\nimport PostDialog from \"pages/SocialMedia/ListPost/Post/PostDialog\";\r\nconst Profile = (props) => {\r\n  const quantityImage = [1, 2, 3, 4, 5];\r\n  const dispatch = useDispatch();\r\n  const [limitPost, setLimitPost] = useState(10);\r\n  const { id } = useParams();\r\n  const [isFriendRequest, setFriendRequest] = useState(false);\r\n  const [isFriend, setFriend] = useState(false);\r\n  const [friendRelate, setFriendRelate] = useState(0);\r\n  const [isShowPost, setShowPost] = useState(false);\r\n  const [currentImage, setCurrentImage] = useState(null);\r\n  useEffect(() => {\r\n    dispatch(getPostList({ limitPost: 10, index: 0, profile: 1, userId: id }));\r\n    dispatch(getUserProfile(id));\r\n    dispatch(getImageUser(id));\r\n  }, [props.match.params]);\r\n\r\n  const profileUserReducer = useSelector(\r\n    (state) => state.userReducer.profileCurentUser\r\n  );\r\n  const profileReducer = useSelector((state) => state.userReducer.profile);\r\n  const imagesUser = useSelector((state) => state.userReducer.imagesUser);\r\n  useEffect(() => {\r\n    console.log(\"listimg\", imagesUser);\r\n  }, [imagesUser]);\r\n  useEffect(() => {\r\n    if (!profileReducer.friendsRequest) return;\r\n    const isAFriend =\r\n      !!profileReducer.friends?.find(\r\n        (e) => e.user._id == profileUserReducer._id\r\n      ) ?? false;\r\n    setFriend(isAFriend);\r\n    if (!isAFriend) {\r\n      if (profileReducer?.friendsRequest?.length <= 0) setFriendRequest(false);\r\n      else {\r\n        const find = profileReducer.friendsRequest.find(\r\n          (e) => e.user._id == profileUserReducer._id\r\n        );\r\n        find ? setFriendRequest(true) : setFriendRequest(false);\r\n      }\r\n    }\r\n  }, [profileReducer]);\r\n\r\n  const postListReducer = useSelector(\r\n    (state) => state.postReducer.postList ?? []\r\n  );\r\n  const handleFriendRequest = (type) => {\r\n    dispatch(\r\n      friendRequest({\r\n        userId: profileReducer._id,\r\n        type,\r\n      })\r\n    );\r\n  };\r\n  const Unfriend = () => {\r\n    dispatch(\r\n      unfriend({\r\n        userId: profileReducer._id,\r\n      })\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"bodyPage\" id=\"Profile\">\r\n      {/* Top */}\r\n      <div className=\"profile\">\r\n        <div className=\"wrapper-content\">\r\n          <div\r\n            className=\"profile__coverBg\"\r\n            style={{\r\n              backgroundImage: `url(${\r\n                profileReducer?.coverPicture\r\n                  ? getUrlImage(profileReducer?.coverPicture)\r\n                  : DefaultImage\r\n              })`,\r\n            }}\r\n          >\r\n            <img\r\n              src={\r\n                profileReducer?.avatar\r\n                  ? getUrlImage(profileReducer?.avatar)\r\n                  : DefaultImage\r\n              }\r\n              alt=\"avatar\"\r\n              className=\"avatar\"\r\n            />\r\n          </div>\r\n          <h3 className=\"text-center py-4\">{profileReducer?.fullName}</h3>\r\n          <div className=\"actions-wrapper d-flex justify-content-end pe-1 pb-1 \">\r\n            {profileReducer._id !== profileUserReducer._id && (\r\n              <>\r\n                {isFriend ? (\r\n                  <div>\r\n                    <Button onClick={() => Unfriend()}>Huỷ kết bạn</Button>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    {!isFriendRequest && (\r\n                      <div>\r\n                        <Button onClick={() => handleFriendRequest(1)}>\r\n                          Kết bạn\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                    {!!isFriendRequest && (\r\n                      <div>\r\n                        <Button onClick={() => handleFriendRequest(0)}>\r\n                          Huỷ yêu cầu kết bạn\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {/* Center */}\r\n        <div className=\"profile__content bodyPage\">\r\n          <div className=\"leftSide\">\r\n            <div className=\"card\">\r\n              <p className=\"card--title-left\">Giới thiệu</p>\r\n              <div className=\"intro pb-2\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <p>Email liên hệ:</p>\r\n                  <p className=\"fw-bold\">{profileReducer?.email}</p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <p>Ngày sinh:</p>\r\n                  <p className=\"fw-bold\">{profileReducer?.dateOfBirth}</p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <p>Số người đang theo dõi:</p>\r\n                  <p className=\"fw-bold\">{profileReducer?.followers?.length}</p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <p>Số người theo dõi:</p>\r\n                  <p className=\"fw-bold\">\r\n                    {profileReducer?.followings?.length}\r\n                  </p>\r\n                </div>\r\n                <EditProfile />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card\">\r\n              <p className=\"card--title-left\">Ảnh</p>\r\n              <div className=\"listPicture\">\r\n                {imagesUser.map((item, index) => {\r\n                  return (\r\n                    <img\r\n                      key={index}\r\n                      width={100}\r\n                      style={{ objectFit: \"cover\" }}\r\n                      height={100}\r\n                      src={getUrlImage(item.filePath)}\r\n                      alt=\"\"\r\n                      className=\"picture\"\r\n                      onClick={() => {\r\n                        setCurrentImage(item);\r\n                        setShowPost(true);\r\n                      }}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ListPost postList={postListReducer} />\r\n        </div>\r\n      </div>\r\n      <Dialog\r\n        isShow={isShowPost}\r\n        handleHideDialog={() => {\r\n          setShowPost(false);\r\n        }}\r\n        width={1100}\r\n        title={null}\r\n        useFooter={false}\r\n        content={<PostDialog image={currentImage} />}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { useEffect, useState } from \"react\";\r\nimport ListPost from \"./ListPost\";\r\nimport RightSideBar from \"compoents/RightSideBar\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getUserProfile } from \"store/user/user.action\";\r\nimport { getPostList } from \"store/post/post.action\";\r\nconst SocialMedia = () => {\r\n  const dispatch = useDispatch();\r\n  const [limitPost, setLimitPost] = useState(10);\r\n  useEffect(() => {\r\n    dispatch(getPostList({limitPost,index:0,profile:0,userId:0}));\r\n  }, []);\r\n  const postListReducer = useSelector(\r\n    (state) => state.postReducer.postList ?? []\r\n  );\r\n\r\n  // useEffect(() => {\r\n  //   console.log(\"USERRR\", profileStore);\r\n  // }, [profileStore]);\r\n\r\n  return (\r\n    <div className=\"bodyPage\">\r\n      <ListPost postList={postListReducer} />\r\n      <RightSideBar />\r\n    </div>\r\n  );\r\n};\r\nexport default SocialMedia;\r\n","export default __webpack_public_path__ + \"static/media/add-friend.74857751.svg\";","import React from \"react\";\r\n\r\nexport const SocketContext = React.createContext();\r\n","export const GET_NOTI_SUCCESS = \"GET_NOTI_SUCCESS\";\r\n","import axios from \"axios\";\r\nimport { HTTP_CONNECT } from \"config\";\r\nimport { GET_NOTI_SUCCESS } from \"./notification.constant\";\r\n\r\nimport apis from \"service\";\r\nimport { setNotify } from \"store/common/common.action\";\r\nconst config = {\r\n  headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n};\r\n\r\nexport const getNotifications = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(`${HTTP_CONNECT}/notification`, config);\r\n      if (res.status === 200) {\r\n        await dispatch(getNotificationsSuccess(res));\r\n      }\r\n    } catch (err) {\r\n      await dispatch(setNotify(err.status));\r\n    }\r\n  };\r\n};\r\nconst getNotificationsSuccess = (data) => {\r\n  return { type: GET_NOTI_SUCCESS, payload: data };\r\n};\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport _defaultAvatar from \"assets/images/default-avatar.jpg\";\r\nimport \"./style.scss\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/vi\"; // without this line it didn't work\r\nimport { getUrlImage } from \"util/index\";\r\nimport {\r\n  CommentOutlined,\r\n  ShareAltOutlined,\r\n  LikeFilled,\r\n} from \"@ant-design/icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { SocketContext } from \"service/socket/SocketContext\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getNotifications } from \"store/notifications/notifications.action\";\r\nimport { useOutsideAlerter } from \"util/index\"\r\nconst Notifications = ({ noti }) => {\r\n  //Init\r\n  const dispatch = useDispatch();\r\n  const wrapperRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(getNotifications());\r\n  }, []);\r\n  const profileReducer = useSelector((state) => state.userReducer.profileCurentUser);\r\n  const notifications = useSelector(\r\n    (state) => state.notificationReducer.notifications ?? []\r\n  );\r\n\r\n  const [countNoti, setCountNoti] = useState(0);\r\n\r\n  //\r\n\r\n  const socket = useContext(SocketContext);\r\n\r\n  // Handle count new notifications\r\n  useEffect(() => {\r\n    setCountNoti(notifications.total)\r\n  }, [notifications]);\r\n  //\r\n\r\n  useEffect(() => {\r\n    if (profileReducer !== null && profileReducer._id) {\r\n      socket.on(\"notification\", (msg) => {\r\n        console.log(\"messs-notify\", msg);\r\n        dispatch(getNotifications());\r\n      });\r\n    }\r\n  }, [profileReducer]);\r\n  //Handle\r\n  useOutsideAlerter(wrapperRef);\r\n  const handleShowNotify = () => {\r\n    let display = wrapperRef.current.style.display;\r\n\r\n    if (display === \"none\") {\r\n      wrapperRef.current.style.display = \"block\";\r\n      setCountNoti(0);\r\n    } else {\r\n      wrapperRef.current.style.display = \"none\";\r\n    }\r\n    // display === \"none\"\r\n    //   ? (wrapperRef.current.style.display = \"block\")\r\n    //   : (wrapperRef.current.style.display = \"none\");\r\n  };\r\n  //\r\n\r\n  return (\r\n    <div className=\"tabNotify\" onClick={handleShowNotify}>\r\n      <div className=\"position-relative\">\r\n        <i className=\"fa fa-heart\"></i>\r\n        <span\r\n          className=\"tabNotify__countNoti\"\r\n          style={{ display: countNoti > 0 ? \"block\" : \"none\" }}\r\n        >\r\n          {countNoti}\r\n        </span>\r\n      </div>\r\n\r\n      <div ref={wrapperRef} className=\"tabNotify__boxItems\">\r\n        <p className=\"tabNotify__headerBox\">Thông báo</p>\r\n\r\n        {/* Notify */}\r\n        {notifications.data &&\r\n          notifications.data.map((item, index) => {\r\n            return (\r\n              <div className=\"tabNotify__item\" key={index}>\r\n                <div className=\"position-relative\">\r\n                  <img\r\n                    src={\r\n                      item.fromUser.avatar\r\n                        ? getUrlImage(item?.fromUser?.avatar)\r\n                        : _defaultAvatar\r\n                    }\r\n                    alt=\"avatar\"\r\n                    className=\"avatar\"\r\n                  />\r\n                  <div className=\"tabNotify__iconReact\">\r\n                    {item.type === 1 ? (\r\n                      <LikeFilled style={{ color: \"#2078f4\" }} />\r\n                    ) : item.type === 2 ? (\r\n                      <CommentOutlined />\r\n                    ) : (\r\n                      <ShareAltOutlined />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"w-100 px-2\">\r\n                  <p>\r\n                    <span style={{ fontWeight: \"bold\" }}>\r\n                      {item.fromUser.fullName}\r\n                    </span>{\" \"}\r\n                    đã{\" \"}\r\n                    {item.type === 1\r\n                      ? \"thích\"\r\n                      : item.type === 2\r\n                      ? \"bình luận\"\r\n                      : \"chia sẻ\"}{\" \"}\r\n                    bài viết của bạn\r\n                  </p>\r\n                  <p style={{ textAlign: \"right\", fontSize: \"12px\" }}>\r\n                    {moment(item?.createAt).startOf(\"hour\").fromNow()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notifications;\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport _defaultAvatar from \"assets/images/default-avatar.jpg\";\r\nimport \"./style.scss\";\r\nimport moment from \"moment\";\r\nimport friend from \"assets/images/add-friend.svg\";\r\nimport \"moment/locale/vi\"; // without this line it didn't work\r\nimport { getUrlImage } from \"util/index\";\r\nimport {\r\n  CommentOutlined,\r\n  ShareAltOutlined,\r\n  LikeFilled,\r\n} from \"@ant-design/icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { SocketContext } from \"service/socket/SocketContext\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getNotifications } from \"store/notifications/notifications.action\";\r\nimport { useOutsideAlerter } from \"util/index\";\r\nimport {\r\n  getUserCurrentProfile,\r\n  getFriendsRequest,\r\n  friendRequestRespone,\r\n} from \"store/user/user.action\";\r\nconst Friends = ({ noti }) => {\r\n  //Init\r\n  const dispatch = useDispatch();\r\n  const wrapperRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    dispatch(getNotifications());\r\n  }, []);\r\n  const profileReducer = useSelector(\r\n    (state) => state.userReducer.profileCurentUser\r\n  );\r\n  const friendsRequest = useSelector(\r\n    (state) => state.userReducer.friendsRequest\r\n  );\r\n  const notifications = useSelector(\r\n    (state) => state.notificationReducer.notifications ?? []\r\n  );\r\n\r\n  const [countNoti, setCountNoti] = useState(0);\r\n\r\n  //\r\n\r\n  const socket = useContext(SocketContext);\r\n  useEffect(() => {\r\n  }, [friendsRequest]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getFriendsRequest());\r\n  }, [profileReducer]);\r\n  //\r\n  useEffect(() => {\r\n    socket.on(\"friendRequest\", (msg) => {\r\n      console.log(\"messs-notify\", msg);\r\n      dispatch(getUserCurrentProfile());\r\n    });\r\n  }, []);\r\n\r\n  //Handle\r\n  useOutsideAlerter(wrapperRef);\r\n  const handleShowNotify = () => {\r\n    let display = wrapperRef.current.style.display;\r\n\r\n    if (display === \"none\") {\r\n      wrapperRef.current.style.display = \"block\";\r\n      setCountNoti(0);\r\n    } else {\r\n      wrapperRef.current.style.display = \"none\";\r\n    }\r\n    // display === \"none\"\r\n    //   ? (wrapperRef.current.style.display = \"block\")\r\n    //   : (wrapperRef.current.style.display = \"none\");\r\n  };\r\n  //\r\n  const handleFriendRequestRespone = ({userId,type}) => {\r\n    dispatch(\r\n      friendRequestRespone({\r\n        userId,\r\n        type\r\n      })\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"tabNotify\" onClick={handleShowNotify}>\r\n      <div className=\"position-relative\">\r\n        <img width={30} src={friend} />\r\n        <span\r\n          className=\"tabNotify__countNoti\"\r\n          style={{ display: countNoti > 0 ? \"block\" : \"none\" }}\r\n        >\r\n          {countNoti}\r\n        </span>\r\n      </div>\r\n\r\n      <div ref={wrapperRef} className=\"tabNotify__boxItems\">\r\n        <p className=\"tabNotify__headerBox\">Thông báo</p>\r\n\r\n        {/* Notify */}\r\n        {friendsRequest?.length > 0 &&\r\n          friendsRequest.map((item, index) => {\r\n            return (\r\n              <div className=\"tabNotify__item\" key={index}>\r\n                <div className=\"position-relative\">\r\n                  <img\r\n                    src={\r\n                      item.user?.avatar\r\n                        ? getUrlImage(item.user?.avatar)\r\n                        : _defaultAvatar\r\n                    }\r\n                    alt=\"avatar\"\r\n                    className=\"avatar\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"w-100 px-2\">\r\n                  <p >\r\n                    <span style={{ fontWeight: \"bold\" }}>\r\n                      {item.user?.fullName}\r\n                    </span>{\" \"}\r\n                  </p>\r\n                  <div className=\"friend-respone\">\r\n                    <button onClick={()=>handleFriendRequestRespone({userId:item.user._id,type:1})} className=\"btn  acc friend-respone__accept\">Chấp nhận</button>\r\n                    <button onClick={()=>handleFriendRequestRespone({userId:item.user._id,type:0})} className=\"btn friend-respone__deny\">Từ chối</button>\r\n                  </div>\r\n                  <p style={{ textAlign: \"right\", fontSize: \"12px\" }}>\r\n                    {moment(item?.createAt).startOf(\"hour\").fromNow()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import \"./style.scss\";\r\nimport { Input } from \"antd\";\r\nimport friend from \"assets/images/add-friend.svg\";\r\nimport _defaultAvatar from \"assets/images/default-avatar.jpg\";\r\nimport { useEffect, useRef, useContext } from \"react\";\r\nimport Notifications from \"./Notifications\";\r\nimport Friends from \"./Friends\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getUserCurrentProfile } from \"store/user/user.action\";\r\nimport { getUrlImage } from \"util/index\";\r\nimport { SocketContext } from \"service/socket/SocketContext\";\r\nfunction useOutsideAvatar(ref) {\r\n  useEffect(() => {\r\n    /**\r\n     * Alert if clicked on outside of element\r\n     */\r\n    function handleClickOutside(event) {\r\n      if (\r\n        ref.current &&\r\n        !ref.current.contains(event.target) &&\r\n        event.target.className !== \"avatar\"\r\n      ) {\r\n        ref.current.style.display = \"none\";\r\n      }\r\n    }\r\n\r\n    // Bind the event listener\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n}\r\nconst { Search } = Input;\r\nconst Header = () => {\r\n  const profileReducer = useSelector(\r\n    (state) => state.userReducer.profileCurentUser\r\n  );\r\n  const socket = useContext(SocketContext);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getUserCurrentProfile());\r\n  }, []);\r\n  useEffect(() => {\r\n    if (profileReducer !== null && profileReducer._id) {\r\n      socket.emit(\"join-room\", \"user_\" + profileReducer?._id);\r\n    }\r\n  }, [profileReducer]);\r\n\r\n  const onSearch = (value) => console.log(value);\r\n\r\n  let history = useHistory();\r\n  const wrapperRefAva = useRef(null);\r\n  useOutsideAvatar(wrapperRefAva);\r\n  const handleShow = () => {\r\n    let display = wrapperRefAva.current.style.display;\r\n\r\n    display === \"none\"\r\n      ? (wrapperRefAva.current.style.display = \"block\")\r\n      : (wrapperRefAva.current.style.display = \"none\");\r\n  };\r\n  return (\r\n    <div className=\"header\">\r\n      <div\r\n        className=\"logo\"\r\n        onClick={() => {\r\n          history.push(\"/\");\r\n        }}\r\n      >\r\n        Social\r\n      </div>\r\n      <div className=\"header__searchInput\">\r\n        <Search\r\n          placeholder=\"Tìm kiếm\"\r\n          onSearch={onSearch}\r\n          style={{ width: 200 }}\r\n        />\r\n      </div>\r\n      <div className=\"header__listTab\">\r\n        <div\r\n          className=\"header__tabHome\"\r\n          onClick={() => {\r\n            history.push(\"/\");\r\n          }}\r\n        >\r\n          <i className=\"fa fa-home\"></i>\r\n        </div>\r\n\r\n        <div className=\"header__tabMessages\">\r\n          <i className=\"fa fa-comments \"></i>\r\n        </div>\r\n        <Friends />\r\n        <Notifications />\r\n        <div className=\"header__avatar\">\r\n          <img\r\n            src={\r\n              profileReducer?.avatar\r\n                ? getUrlImage(profileReducer?.avatar)\r\n                : _defaultAvatar\r\n            }\r\n            alt=\"avatar\"\r\n            className=\"avatar\"\r\n            onClick={handleShow}\r\n          />\r\n          <div className=\"header__box\" ref={wrapperRefAva}>\r\n            <Link\r\n              to={`/profile/${profileReducer._id}`}\r\n              onClick={() => {\r\n                wrapperRefAva.current.style.display = \"none\";\r\n                // history.push(`/profile/${profileReducer._id}`)\r\n              }}\r\n            >\r\n              Trang cá nhân\r\n            </Link>\r\n            <Link to=\"/login\">Đăng xuất</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import Post from \"pages/SocialMedia/ListPost/Post\";\r\nimport \"./style.scss\";\r\n\r\nconst PostDetail = () => {\r\n  return (\r\n    <div className=\"postDetail\">\r\n      <div className=\"postDetail__attachments\">Attachments</div>\r\n      <div className=\"postDetail__content\">\r\n        <Post />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PostDetail;\r\n","import React,{useEffect} from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport AuthRoute from \"./guard/auth.guard\";\r\nimport LoginAndRegister from \"./pages/LoginAndRegister\";\r\nimport Profile from \"./pages/Profile\";\r\nimport SocialMedia from \"./pages/SocialMedia\";\r\nimport Header from \"./compoents/Header\";\r\nimport { useSelector,useDispatch} from \"react-redux\";\r\nimport {getUserCurrentProfile} from \"store/user/user.action\"\r\n//SCSS\r\nimport \"./scss/index.scss\";\r\nimport PostDetail from \"pages/PostDetail\";\r\n\r\nconst App = () => {\r\n  const auth = useSelector((state) => state.authReducer.auth);\r\n  const profile = useSelector((state) => state.userReducer.profileCurentUser);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getUserCurrentProfile())\r\n  }, [auth]);\r\n\r\n  useEffect(()=>{\r\n  },[profile])\r\n  return (\r\n    <BrowserRouter>\r\n      <>\r\n        <Header />\r\n        <Switch>\r\n          <Route\r\n            path=\"/login\"\r\n            render={(props) => <LoginAndRegister {...props} />}\r\n          />\r\n          <AuthRoute path=\"/post\" Component={PostDetail} />\r\n          <AuthRoute path=\"/profile/:id\" Component={Profile} />\r\n          <AuthRoute path=\"/\" Component={SocialMedia} />\r\n        </Switch>\r\n      </>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { USER_AUTH, USER_REGISTER } from \"./auth.constant\";\r\n\r\nconst initialState = {\r\n  auth: {},\r\n  register: {},\r\n};\r\n\r\nexport const authReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case USER_AUTH:\r\n      console.log(payload,\"payload\")\r\n      return { ...state, auth: payload };\r\n    case USER_REGISTER:\r\n      return { ...state, register: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  CLEAR_NOTIFY,\r\n  GET_USER_PROFILE,\r\n  UPDATE_PROFILE_FAIL,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  GET_USER_CURRENT_PROFILE,\r\n  FRIEND_REQUEST_SUCCESS,\r\n  FRIEND_REQUEST_RESPONE_SUCCESS,\r\n  GET_FRIEND_REQUEST_SUCCESS,\r\n  UNFRIEND_SUCCESS,\r\n  GET_IMAGE_USE_SUCCESS\r\n} from \"./user.constant\";\r\n\r\nconst initialState = {\r\n  profile: {},\r\n  profileCurentUser: {},\r\n  friendsRequest: [],\r\n  imagesUser: [],\r\n};\r\nexport const userReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_USER_PROFILE:\r\n      return { ...state, profile: payload.data };\r\n    case UPDATE_PROFILE_SUCCESS:\r\n      return { ...state, profile: payload.data };\r\n    case UPDATE_PROFILE_FAIL:\r\n      return { ...state };\r\n    case GET_USER_CURRENT_PROFILE:\r\n      return {\r\n        ...state,\r\n        profileCurentUser: payload.data,\r\n        friendsRequest: payload.data.friendsRequest,\r\n      };\r\n    case FRIEND_REQUEST_SUCCESS:\r\n      let newFriendsRequest = { ...state.profile };\r\n      if (payload.type == 0) {\r\n        newFriendsRequest.friendsRequest = state.profile.friendsRequest.filter(\r\n          (e) => e.user._id != payload.user._id\r\n        );\r\n      }\r\n      if (payload.type == 1)\r\n        newFriendsRequest.friendsRequest = [\r\n          ...state.profile.friendsRequest,\r\n          payload,\r\n        ];\r\n      return { ...state, profile: newFriendsRequest };\r\n    case GET_FRIEND_REQUEST_SUCCESS:\r\n      return { ...state, friendsRequest: payload.data };\r\n    case UNFRIEND_SUCCESS:\r\n      let newProfile = { ...state.profile };\r\n      newProfile.friends = newProfile.friends.filter(\r\n        (e) => e.user._id !== state.profileCurentUser._id\r\n      );\r\n      return { ...state, profile: newProfile };\r\n    case GET_IMAGE_USE_SUCCESS:\r\n      return { ...state, imagesUser: payload.data };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  CREATE_POST_SUCCESS,\r\n  CREATE_POST_FAIL,\r\n  EDIT_POST_SUCCESS,\r\n  EDIT_POST_FAIL,\r\n  DELETE_POST_SUCCESS,\r\n  DELETE_POST_FAIL,\r\n  GET_POST_LIST,\r\n  LIKE_POST_SUCCESS,\r\n  GET_COMMENT_SUCCESS,\r\n  DELETE_COMMENT_SUCCESS,\r\n  EDIT_COMMENT_SUCCESS,\r\n  POST_COMMENT_SUCCESS,\r\n  LIKE_COMMENT_SUCCESS,\r\n} from \"store/post/post.constant\";\r\n\r\nconst initialState = {\r\n  postList: [],\r\n  notify: null,\r\n};\r\n\r\nexport const postReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_POST_LIST:\r\n      console.log(payload);\r\n      return { ...state, postList: payload };\r\n    //CREATE\r\n    case CREATE_POST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        postList: [payload.data, ...state.postList],\r\n      };\r\n    case CREATE_POST_FAIL:\r\n      return {\r\n        ...state,\r\n      };\r\n    //EDIT\r\n    case EDIT_POST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        postList: state.postList.map((post) => {\r\n          if (post._id === payload.data._id) {\r\n            post = payload.data;\r\n          }\r\n          return post;\r\n        }),\r\n      };\r\n    case EDIT_POST_FAIL:\r\n      return {\r\n        ...state,\r\n      };\r\n    //DELETE\r\n    case DELETE_POST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        postList: state.postList.filter(\r\n          (post) => post._id !== payload.data.postId\r\n        ),\r\n      };\r\n    case DELETE_POST_FAIL:\r\n      return {\r\n        ...state,\r\n      };\r\n    case LIKE_POST_SUCCESS:\r\n      const { like, user, postId } = payload;\r\n      let listNewPosts = state.postList.map((post) => {\r\n        if (postId === post._id) {\r\n          if (like) {\r\n            post.like.push({ user: user });\r\n          } else {\r\n            post.like = post.like.filter((item) => item.user._id !== user._id);\r\n          }\r\n        }\r\n        return post;\r\n      });\r\n      return {\r\n        ...state,\r\n        postList: listNewPosts,\r\n      };\r\n    case POST_COMMENT_SUCCESS:\r\n      let newListPost = state.postList;\r\n      newListPost = newListPost.map((post) => {\r\n        if (post._id !== payload.req.postId) return post;\r\n        // post.comments.reverse()\r\n        post.comments = [\r\n          {\r\n            ...payload.res.data,\r\n            user: {\r\n              avatar: payload.user.avatar,\r\n              fullname: payload.user.fullname,\r\n              _id: payload.user._id,\r\n              username: payload.user.username,\r\n            },\r\n          },\r\n          ...post.comments,\r\n        ];\r\n        // post.comments.reverse()\r\n        return post;\r\n      });\r\n      return { ...state, postList: newListPost };\r\n    case LIKE_COMMENT_SUCCESS:\r\n      console.log(\"LIKE_COMMENT_SUCCESS\")\r\n      let newListPost5 = state.postList;\r\n      newListPost5 = newListPost5.map((post) => {\r\n        if (post._id !== payload.req.postId) return post;\r\n        // post.comments.reverse()\r\n        post.comments.map((comment) => {\r\n          if (comment._id !== payload.req.commentId) return comment;\r\n          if (payload.req.type == 1) {\r\n            comment.like.push({\r\n              user: {\r\n                avatar: payload.user.avatar,\r\n                fullname: payload.user.fullname,\r\n                _id: payload.user._id,\r\n                username: payload.user.username,\r\n              },\r\n              createAt: payload.res.data.createAt,\r\n              _id: payload.res.data._id,\r\n            });\r\n          }\r\n          if (payload.req.type == 0) {\r\n            comment.like = comment.like.filter(\r\n              (like) => like.user._id !== payload.user._id\r\n            );\r\n          }\r\n          return comment;\r\n        });\r\n        return post;\r\n      });\r\n      return { ...state, postList: newListPost5 };\r\n    case GET_COMMENT_SUCCESS:\r\n      const newListPost2 = { ...state.postList };\r\n      newListPost2 = newListPost2.map((post) => {\r\n        if (post._id !== payload.req.postId) return post;\r\n\r\n        post.comments = [...post.comments, ...payload.res.data];\r\n        return post;\r\n      });\r\n      return { ...state, postList: newListPost2 };\r\n    case EDIT_COMMENT_SUCCESS:\r\n      const newListPost3 = { ...state.postList };\r\n      newListPost3 = newListPost3.map((post) => {\r\n        if (post._id !== payload.req.postId) return post;\r\n\r\n        post.comments = post.comments.map((item) => {\r\n          if (item._id !== payload.req.commentId) return item;\r\n          return payload.res.data;\r\n        });\r\n        return post;\r\n      });\r\n      return { ...state, postList: newListPost3 };\r\n    case DELETE_COMMENT_SUCCESS:\r\n      const newListPost4 = { ...state.postList };\r\n      newListPost4 = newListPost4.map((post) => {\r\n        if (post._id !== payload.req.postId) return post;\r\n\r\n        post.comments = post.comments.filter((item) => {\r\n          return item._id !== payload.req.commentId;\r\n        });\r\n        return post;\r\n      });\r\n      return { ...state, postList: newListPost4 };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SET_NOTIFY } from \"store/common/common.constant\";\r\n\r\nconst initialState = {\r\n  notify: null,\r\n};\r\n\r\nexport const commonReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SET_NOTIFY:\r\n      return { type: SET_NOTIFY, notify: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { GET_NOTI_SUCCESS } from \"./notification.constant\";\r\n\r\nconst initialState = {\r\n  notifications: [],\r\n};\r\n\r\nexport const notificationReducer = (\r\n  state = initialState,\r\n  { type, payload }\r\n) => {\r\n  switch (type) {\r\n    case GET_NOTI_SUCCESS:\r\n      return { ...state, notifications: payload.data };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { authReducer } from \"../auth/auth.reducer\";\r\nimport { userReducer } from \"../user/user.reducer\";\r\nimport { postReducer } from \"../post/post.reducer\";\r\nimport { commonReducer } from \"../common/common.reducer\";\r\nimport { notificationReducer } from \"../notifications/notifications.reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  authReducer,\r\n  userReducer,\r\n  postReducer,\r\n  commonReducer,\r\n  notificationReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport rootReducer from \"./reducers/root.reducer\";\r\nimport thunk from 'redux-thunk';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport io from \"socket.io-client\";\r\nimport { SocketContext } from \"./SocketContext\";\r\n// import { debug } from \"./utils\";\r\n\r\nclass SocketService extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.socket = io(props.uri);\r\n\r\n    this.socket.status = \"initialized\";\r\n\r\n   \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <SocketContext.Provider value={this.socket}>\r\n        {React.Children.only(this.props.children)}\r\n      </SocketContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nSocketService.propTypes = {\r\n  options: PropTypes.object,\r\n  uri: PropTypes.string,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default SocketService;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n// bootstrap\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../node_modules/bootstrap/dist/js/bootstrap.min.js\";\r\nimport \"../node_modules/jquery/dist/jquery.min.js\";\r\nimport \"../node_modules/popper.js/dist/popper.min.js\";\r\n//Ant design\r\nimport \"../node_modules/antd/dist/antd.css\";\r\n//font awesome\r\nimport \"../node_modules/font-awesome/css/font-awesome.min.css\";\r\n//Loading\r\nimport \"../node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n//Redux\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/index\";\r\nimport SocketService from \"./service/socket/SocketService\";\r\n//Notification\r\nimport \"react-notifications/lib/notifications.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <SocketService uri={\"http://localhost:4001\"}>\r\n      <App />\r\n    </SocketService>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}